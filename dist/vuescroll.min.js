/*
    * @name: vuescroll 3.5.5
    * @author: (c) 2018-2018 wangyi7099
    * @description: A virtual scrollbar based on vue.js 2.x
    * @license: MIT
    * @GitHub: https://github.com/wangyi7099/vuescroll
    */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):t.vuescroll=e(t.Vue)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={vertical:{bar:{size:"height",opsSize:"width",posName:"top",page:"pageY",scroll:"scrollTop",scrollSize:"scrollHeight",offset:"offsetHeight",client:"clientY"},axis:"Y"},horizontal:{bar:{size:"width",opsSize:"height",posName:"left",page:"pageX",scroll:"scrollLeft",scrollSize:"scrollWidth",offset:"offsetWidth",client:"clientX"},axis:"X"}},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t,e){for(var s in e="object"===(void 0===e?"undefined":o(e))&&e||{},t)e[s]="object"===o(t[s])?r(t[s],e[s]={}):t[s];return e}function s(t,e){for(var i in e=e||{},t)"object"===o(t[i])?e[i]?s(t[i],e[i]):(e[i]={},r(t[i],e[i])):e[i]||(e[i]=t[i]);return e}function i(t,e,o,r){var s=null;(o[e]||"function"==typeof o)&&(r=r||e,"function"==typeof o&&(s=o),Object.defineProperty(t,e,{get:s||function(){return o[r]},configurable:!0}))}var n=void 0;function a(){if(t.prototype.$isServer)return 0;if(void 0!==n)return n;var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var o=e.offsetWidth;e.style.overflow="scroll";var r=document.createElement("div");r.style.width="100%",e.appendChild(r);var s=r.offsetWidth;return e.parentNode.removeChild(e),n=o-s,a.isUsed=!1,n}function l(t,e,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.addEventListener(e,o,r)}function c(t,e,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,o,r)}var p={vuescroll:{style:{position:"relative",height:"100%",width:"100%",padding:0,overflow:"hidden"},class:["vueScroll"]},scrollPanel:{initialScrollY:!1,initialScrollX:!1},scrollContent:{tag:"div",padding:!0,height:"100%",props:{},attrs:{}},vRail:{width:"5px",pos:"right",background:"#a5d6a7",opacity:0},vBar:{width:"5px",pos:"right",background:"#4caf50",deltaY:100,keepShow:!1,opacity:1},hRail:{height:"5px",pos:"bottom",background:"#a5d6a7",opacity:0},hBar:{height:"5px",pos:"bottom",background:"#4caf50",keepShow:!1,opacity:1}};var h={created:function(){(function(){var t=this;if("vueScroll"===t.$options.name){var e=s(p,{});t.$options.propsData.ops=t.$options.propsData.ops||{},Object.keys(t.$options.propsData.ops).forEach(function(e){i(t.mergedOptions,e,t.$options.propsData.ops)}),s(e,t.mergedOptions),i(t.mergedOptions.vBar,"pos",t.mergedOptions.vRail),i(t.mergedOptions.vBar,"width",t.mergedOptions.vRail),i(t.mergedOptions.hBar,"pos",t.mergedOptions.hRail),i(t.mergedOptions.hBar,"height",t.mergedOptions.hRail),t.mergedOptions.scrollContent.padding&&(i(t.mergedOptions.scrollContent,"paddPos",function(){return"padding-"+t.mergedOptions.vRail.pos}),i(t.mergedOptions.scrollContent,"paddValue",function(){return t.mergedOptions.vRail.width}))}}).call(this)}},u={methods:{scrollTo:function(t){var e=t.x||this.$refs.scrollPanel.$el.scrollLeft,o=t.y||this.$refs.scrollPanel.$el.scrollTop;this.$refs.scrollPanel.$el.scrollTo(e,o)},forceUpdate:function(){var t=this;this.$forceUpdate(),Object.keys(this.$refs).forEach(function(e){t.$refs[e].$forceUpdate()})}}},d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t};function f(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function v(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var m={name:"vueScroll",mixins:[h,u],data:function(){return{scrollPanel:{el:""},scrollContent:{},vRail:{state:{}},hRail:{state:{}},vBar:{state:{posValue:0,size:0,opacity:0}},hBar:{state:{posValue:0,size:0,opacity:0}},listeners:[],mousedown:!1,mergedOptions:{scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}},render:function(t){var e=this,o={style:p.vuescroll.style,class:p.vuescroll.class,on:{mouseenter:function(){e.showBar()},mouseleave:function(){e.hideBar()}}},r={ref:"scrollPanel",nativeOn:{scroll:e.handleScroll},props:{ops:e.mergedOptions.scrollPanel}},s={props:{ops:e.mergedOptions.scrollContent},ref:"scrollContent"},i={props:{type:"vertical",ops:e.mergedOptions.vBar,state:e.vBar.state},on:{setMousedown:this.setMousedown},ref:"verticalBar"},n={props:{type:"vertical",ops:e.mergedOptions.vRail,state:e.vRail.state},ref:"verticalRail"},a={props:{type:"horizontal",ops:e.mergedOptions.hBar,state:e.hBar.state},on:{setMousedown:this.setMousedown},ref:"horizontalBar"},l={props:{type:"horizontal",ops:e.mergedOptions.hRail,state:e.hRail.state},ref:"horizontalRail"};return t("div",o,[t("scrollPanel",r,[t("scrollContent",s,[[e.$slots.default]])]),t("rail",n),t("bar",i),t("rail",l),t("bar",a)])},computed:{scrollPanelElm:function(){return this.$refs.scrollPanel.$el}},methods:{handleScroll:function(){this.update()},triggerScrollEvent:function(){var t=this.scrollPanelElm,e={},o={};e.process=t.scrollTop/(t.scrollHeight-t.clientHeight),o.process=t.scrollLeft/(t.scrollWidth-t.clientWidth),e.barSize=this.vBar.state.size,o.barSize=this.hBar.state.size,this.$emit("handle-scroll",e,o)},update:function(){var t,e,o=this.scrollPanelElm;o&&(t=100*o.clientHeight/(o.scrollHeight-this.accuracy),e=100*o.clientWidth/(o.scrollWidth-this.accuracy),this.vBar.state.size=t<100?t+"%":"",this.hBar.state.size=e<100?e+"%":"",this.vBar.state.posValue=100*o.scrollTop/o.clientHeight,this.hBar.state.posValue=100*o.scrollLeft/o.clientWidth,this.triggerScrollEvent())},showBar:function(){this.vBar.state.opacity=this.mergedOptions.vBar.opacity,this.hBar.state.opacity=this.mergedOptions.hBar.opacity},hideBar:function(){this.mergedOptions.vBar.keepShow||this.mousedown||(this.vBar.state.opacity=0),this.mergedOptions.hBar.keepShow||this.mousedown||(this.hBar.state.opacity=0)},setMousedown:function(t){this.mousedown=t}},mounted:function(){var t=this;this.$nextTick(function(){t.update(),t.showBar(),t.hideBar()})},updated:function(){var t=this;this.$nextTick(function(){t.update(),t.showBar(),t.hideBar()})},components:{bar:{name:"bar",computed:{bar:function(){return e[this.type].bar},parent:function(){return this.$parent.$refs}},render:function(t){var o,r,s;return t("div",{style:d((f(o={},this.bar.posName,0),f(o,this.ops.pos,0),f(o,this.bar.size,this.state.size),f(o,this.bar.opsSize,this.ops[this.bar.opsSize]),f(o,"background",this.ops.background),f(o,"opacity",this.state.opacity),f(o,"cursor","pointer"),f(o,"position","absolute"),f(o,"borderRadius","4px"),f(o,"transition","opacity .5s"),f(o,"cursor","pointer"),f(o,"userSelect","none"),o),(r=this.type,s=this.state.posValue,{transform:"translate"+e[r].axis+"("+s+"%)",msTransform:"translate"+e[r].axis+"("+s+"%)",webkitTransform:"translate"+e[r].axis+"("+s+"%)"})),class:this.type+"Scrollbar",on:{mousedown:this.handleMousedown}})},methods:{handleMousedown:function(t){t.stopPropagation(),this.axisStartPos=t[this.bar.client]-this.$el.getBoundingClientRect()[this.bar.posName],this.$emit("setMousedown",!0),l(document,"mousemove",this.handleMouseMove),l(document,"mouseup",this.handleMouseUp)},handleMouseMove:function(t){if(this.axisStartPos){var e=(t[this.bar.client]-this.parent[this.type+"Rail"].$el.getBoundingClientRect()[this.bar.posName]-this.axisStartPos)/this.parent[this.type+"Rail"].$el[this.bar.offset];this.parent.scrollPanel.$el[this.bar.scroll]=this.parent.scrollPanel.$el[this.bar.scrollSize]*e}},handleMouseUp:function(){this.$emit("setMousedown",!1),this.$parent.hideBar(),this.axisStartPos=0,c(document,"mousemove",this.handleMouseMove),c(document,"mouseup",this.handleMouseUp)}},props:{ops:{type:Object,required:!0},state:{type:Object,required:!0},type:{type:String,required:!0}}},rail:{name:"rail",computed:{bar:function(){return e[this.type].bar},parentRef:function(){return this.$parent.$refs}},methods:{handleClickTrack:function(t){var e=this.bar.page,o=this.parentRef[this.type+"Bar"].$el[this.bar.offset],r=(t[e]-t.target.getBoundingClientRect()[this.bar.posName]-o/2)/t.target[this.bar.offset];this.parentRef.scrollPanel.$el[this.bar.scroll]=this.parentRef.scrollPanel.$el[this.bar.scrollSize]*r}},render:function(t){var e,o=this;return t("div",{style:(v(e={},o.bar.posName,0),v(e,o.ops.pos,0),v(e,o.bar.size,"100%"),v(e,o.bar.opsSize,o.ops[o.bar.opsSize]),v(e,"background",o.ops.background),v(e,"opacity",o.ops.opacity),v(e,"position","absolute"),v(e,"cursor","pointer"),v(e,"borderRadius","4px"),e),class:this.type+"Rail",on:{click:this.handleClickTrack}})},props:{type:{required:!0,type:String},ops:{required:!0,type:Object},state:{required:!0,type:Object}}},scrollContent:{name:"scrollContent",render:function(t){var e=this,o=s(e.state.style,{});return o.height=e.ops.height,e.ops.padding&&(o[e.ops.paddPos]=e.ops.paddValue),t(e.ops.tag,{style:o,class:"scrollContent",props:e.ops.props,attrs:e.ops.attrs},this.$slots.default)},props:{ops:{default:function(){return{}}},state:{default:function(){return{}}}}},scrollPanel:{name:"scrollPanel",methods:{extractScrollDistance:function(t,e){var o=void 0;return(o=/(\d+)%$/.exec(t))?(o=o[1],o=this.$el[e]*o/100):o=t,o},updateInitialScroll:function(){if(this.ops.initialScrollX){var t=this.extractScrollDistance(this.ops.initialScrollX,"scrollWidth");this.$el.scrollLeft=t}if(this.ops.initialScrollY){var e=this.extractScrollDistance(this.ops.initialScrollY,"scrollHeight");this.$el.scrollTop=e}}},mounted:function(){this.updateInitialScroll()},updated:function(){this.updateInitialScroll()},render:function(t){var e=a(),o={overflow:"scroll"};if(e)o.marginRight=-e+"px",o.height="calc(100% + "+e+"px)",o.marginBottom=-e+"px";else if(o.height="100%",!a.isUsed){a.isUsed=!0;var r=document.createElement("style");r.type="text/css",r.innerHTML=".vueScrollPanel::-webkit-scrollbar{width:0;height:0}",document.getElementsByTagName("HEAD").item(0).appendChild(r)}return t("div",{style:o,class:["scrollPanel"]},[[this.$slots.default]])},props:{ops:{default:function(){return{}},validator:function(t){var e=!0,o=(t=t||{}).initialScrollY,r=t.initialScrollX;return o&&!String(o).match(/^\d+(\.\d+)?(%)?$/)&&(console.error("[vuescroll]: The prop `initialScrollY` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),e=!1),r&&!String(r).match(/^\d+(\.\d+)?(%)?$/)&&(console.error("[vuescroll]: The prop `initialScrollX` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),e=!1),e}}}}},props:{ops:{default:function(){return{scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}},accuracy:{default:0,validator:function(t){return!(t<0)||(console.error("[vuescroll]:The prop `accury` must be 0 or higher!"),!1)}}}},g={install:function(t){g.isInstalled?console.warn("You should not install the vuescroll again!"):(t.component(m.name,m),t.prototype.$vuescrollConfig=p,g.isInstalled=!0)}};return void 0!==t&&t.use(g),g});