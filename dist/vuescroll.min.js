/*
    * @name: vuescroll 3.7.12
    * @author: (c) 2018-2018 wangyi7099
    * @description: A virtual scrollbar based on vue.js 2.x
    * @license: MIT
    * @GitHub: https://github.com/wangyi7099/vuescroll
    */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):t.vuescroll=e(t.Vue)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={vertical:{bar:{size:"height",opsSize:"width",posName:"top",page:"pageY",scroll:"scrollTop",scrollSize:"scrollHeight",offset:"offsetHeight",client:"clientY"},axis:"Y"},horizontal:{bar:{size:"width",opsSize:"height",posName:"left",page:"pageX",scroll:"scrollLeft",scrollSize:"scrollWidth",offset:"offsetWidth",client:"clientX"},axis:"X"}},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e){for(var s in e="object"===(void 0===e?"undefined":o(e))&&e||{},t)e[s]="object"===o(t[s])?i(t[s],e[s]={}):t[s];return e}function s(t,e){for(var l in e=e||{},t)"object"===o(t[l])?void 0===e[l]?(e[l]={},i(t[l],e[l])):s(t[l],e[l]):void 0===e[l]&&(e[l]=t[l]);return e}function l(t,e,o,i){var s=null;(o[e]||"function"==typeof o)&&(i=i||e,"function"==typeof o&&(s=o),Object.defineProperty(t,e,{get:s||function(){return o[i]},configurable:!0}))}var n=void 0;function r(){if(t.prototype.$isServer)return 0;if(void 0!==n)return n;var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var o=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var s=i.offsetWidth;return e.parentNode.removeChild(e),n=o-s,r.isUsed=!1,n}var a=!1;function c(t,e,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.addEventListener(e,o,i)}function h(t,e,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,o,i)}function _(t,e){var o=null;return"easeInQuad"===t&&(o=e*e),"easeOutQuad"===t&&(o=e*(2-e)),"easeInOutQuad"===t&&(o=e<.5?2*e*e:(4-2*e)*e-1),"easeInCubic"===t&&(o=e*e*e),"easeOutCubic"===t&&(o=--e*e*e+1),"easeInOutCubic"===t&&(o=e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1),"easeInQuart"===t&&(o=e*e*e*e),"easeOutQuart"===t&&(o=1- --e*e*e*e),"easeInOutQuart"===t&&(o=e<.5?8*e*e*e*e:1-8*--e*e*e*e),"easeInQuint"===t&&(o=e*e*e*e*e),"easeOutQuint"===t&&(o=1+--e*e*e*e*e),"easeInOutQuint"===t&&(o=e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e),o||e}var u={vuescroll:{mode:"native"},scrollPanel:{initialScrollY:!1,initialScrollX:!1,speed:300,easing:void 0},scrollContent:{tag:"div",padding:!0,props:{},attrs:{}},vRail:{width:"5px",pos:"right",background:"#a5d6a7",opacity:0},hRail:{height:"5px",pos:"bottom",background:"#a5d6a7",opacity:0},vBar:{width:"5px",pos:"right",background:"#4caf50",deltaY:100,keepShow:!1,opacity:1,hover:!1},hBar:{height:"5px",pos:"bottom",background:"#4caf50",keepShow:!1,opacity:1,hover:!1}};var p={created:function(){(function(){var t=this;if("vueScroll"===t.$options.name){var e=s(u,{});t.$options.propsData.ops=t.$options.propsData.ops||{},Object.keys(t.$options.propsData.ops).forEach(function(e){l(t.mergedOptions,e,t.$options.propsData.ops)}),s(e,t.mergedOptions),l(t.mergedOptions.vBar,"pos",t.mergedOptions.vRail),l(t.mergedOptions.vBar,"width",t.mergedOptions.vRail),l(t.mergedOptions.hBar,"pos",t.mergedOptions.hRail),l(t.mergedOptions.hBar,"height",t.mergedOptions.hRail),l(t.mergedOptions.scrollContent,"paddPos",function(){return"padding-"+t.mergedOptions.vRail.pos}),l(t.mergedOptions.scrollContent,"paddValue",function(){return t.mergedOptions.vRail.width})}}).call(this)}};function d(t,e,o){var i=void 0;return(i=/(\d+)%$/.exec(t))?(i=i[1],i=o[e]*i/100):i=t,i}var f={methods:{scrollTo:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];void 0===t.x?t.x=this.$refs.scrollPanel.$el.scrollLeft:t.x=d(t.x,"scrollWidth",this.scrollPanelElm),void 0===t.y?t.y=this.$refs.scrollPanel.$el.scrollTop:t.y=d(t.y,"scrollHeight",this.scrollPanelElm);var o,i,s,l,n,r,a,c,h,u,p=t.x,f=t.y;"native"==this.mode?e?(o=this.$refs.scrollPanel.$el,i=p-this.$refs.scrollPanel.$el.scrollLeft,s=f-this.$refs.scrollPanel.$el.scrollTop,l=this.mergedOptions.scrollPanel.speed,n=this.mergedOptions.scrollPanel.easing,r=null,a=null,c=null,h=o.scrollTop,u=o.scrollLeft,h+s<0&&(s=-h),h+s>o.scrollHeight&&(s=o.scrollHeight-h),u+i<0&&(i=-u),u+i>o.scrollWidth&&(i=o.scrollWidth-u),requestAnimationFrame(function t(e){r||(r=e);var p=e-r,d=p/l>1?1:p/l;a=u+i*_(n,d),c=h+s*_(n,d),(Math.abs(c-h)<=Math.abs(s)||Math.abs(a-u)<=Math.abs(i))&&(o.scrollTop=Math.floor(c),o.scrollLeft=Math.floor(a),d<1&&requestAnimationFrame(t))})):this.$refs.scrollPanel.$el.scrollTo(p,f):this.scroller.scrollTo(t.x,t.y,e)},forceUpdate:function(){var t=this;this.$forceUpdate(),Object.keys(this.$refs).forEach(function(e){var o=t.$refs[e];o._isVue&&o.$forceUpdate()})}}},m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t};function v(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var g={name:"bar",computed:{bar:function(){return e[this.type].bar},parent:function(){return this.$parent.$refs}},render:function(t){var o,i,s,l=this,n={style:m((v(o={},this.bar.posName,0),v(o,this.ops.pos,0),v(o,this.bar.size,this.state.size),v(o,this.bar.opsSize,this.ops[this.bar.opsSize]),v(o,"background",this.ops.background),v(o,"opacity",this.state.opacity),v(o,"cursor","pointer"),v(o,"position","absolute"),v(o,"borderRadius","4px"),v(o,"transition","opacity .5s"),v(o,"cursor","pointer"),v(o,"userSelect","none"),o),(i=this.type,s=this.state.posValue,{transform:"translate"+e[i].axis+"("+s+"%)",msTransform:"translate"+e[i].axis+"("+s+"%)",webkitTransform:"translate"+e[i].axis+"("+s+"%)"})),class:"vuescroll-"+this.type+"-scrollbar",on:{mousedown:this.handleMousedown}};return this.ops.hover&&(n.on.mouseenter=function(){l.$el.style.background=l.ops.hover},n.on.mouseleave=function(){l.$el.style.background=l.ops.background}),t("div",n)},methods:{handleMousedown:function(t){t.stopPropagation(),this.axisStartPos=t[this.bar.client]-this.$el.getBoundingClientRect()[this.bar.posName],this.$emit("setMousedown",!0),c(document,"mousemove",this.handleMouseMove),c(document,"mouseup",this.handleMouseUp)},handleMouseMove:function(t){if(this.axisStartPos){var e=(t[this.bar.client]-this.parent[this.type+"Rail"].getBoundingClientRect()[this.bar.posName]-this.axisStartPos)/this.parent[this.type+"Rail"][this.bar.offset];this.parent.scrollPanel.$el[this.bar.scroll]=this.parent.scrollPanel.$el[this.bar.scrollSize]*e}},handleMouseUp:function(){this.$emit("setMousedown",!1),this.$parent.hideBar(),this.axisStartPos=0,h(document,"mousemove",this.handleMouseMove),h(document,"mouseup",this.handleMouseUp)}},props:{ops:{type:Object,required:!0},state:{type:Object,required:!0},type:{type:String,required:!0}}};function S(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var y={name:"rail",functional:!0,render:function(t,o){var i,s=o.parent,l=o.props,n=e[l.type].bar,r=s.$refs;return t("div",{style:(S(i={},n.posName,0),S(i,l.ops.pos,0),S(i,n.size,"100%"),S(i,n.opsSize,l.ops[n.opsSize]),S(i,"background",l.ops.background),S(i,"opacity",l.ops.opacity),S(i,"position","absolute"),S(i,"cursor","pointer"),S(i,"borderRadius","4px"),i),class:"vuescroll-"+l.type+"-rail",ref:l.type+"Rail",on:{click:function(t){!function(t,o,i,s,l){var n=o.page,r=i[s+"Bar"].$el[o.offset],a=(t[n]-t.target.getBoundingClientRect()[o.posName]-r/2)/t.target[o.offset],c=i.scrollPanel.$el[o.scrollSize]*a;l.scrollTo(S({},e[s].axis.toLowerCase(),c))}(t,n,r,l.type,s)}}})}},T={name:"scrollContent",functional:!0,render:function(t,e){var o=e.props,i=e.slots,l=s(o.state.style,{});return l.position="relative",l.minHeight="100%",o.ops.padding&&(l[o.ops.paddPos]=o.ops.paddValue),t(o.ops.tag,{style:l,ref:"scrollContent",class:"vuescroll-content",props:o.ops.props,attrs:o.ops.attrs},i().default)},props:{ops:{default:function(){return{}}},state:{default:function(){return{}}}}},b={name:"scrollPanel",methods:{updateInitialScroll:function(){var t=0,e=0;this.ops.initialScrollX&&(t=this.ops.initialScrollX),this.ops.initialScrollY&&(e=this.ops.initialScrollY),this.$parent.scrollTo({x:t,y:e})}},mounted:function(){var t=this;this.$nextTick(function(){t._isDestroyed||t.updateInitialScroll()})},render:function(t){return t("div",{class:["vuescroll-panel"]},[[this.$slots.default]])},props:{ops:{default:function(){return{}},validator:function(t){var e=!0,o=(t=t||{}).initialScrollY,i=t.initialScrollX;return o&&!String(o).match(/^\d+(\.\d+)?(%)?$/)&&(console.error("[vuescroll]: The prop `initialScrollY` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),e=!1),i&&!String(i).match(/^\d+(\.\d+)?(%)?$/)&&(console.error("[vuescroll]: The prop `initialScrollX` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),e=!1),e}},state:{}}},L=Date.now||function(){return+new Date},x={},w=1,M={effect:{}},D=window;M.effect.Animate={requestAnimationFrame:function(){var t=D.requestAnimationFrame||D.webkitRequestAnimationFrame||D.mozRequestAnimationFrame||D.oRequestAnimationFrame,e=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(e=!1),e)return function(e,o){t(e,o)};var o={},i=1,s=null,l=+new Date;return function(t,e){var n=i++;return o[n]=t,null===s&&(s=setInterval(function(){var t=+new Date,e=o;for(var i in o={},e)e.hasOwnProperty(i)&&(e[i](t),l=t);t-l>2500&&(clearInterval(s),s=null)},1e3/60)),n}}(),stop:function(t){var e=null!=x[t];return e&&(x[t]=null),e},isRunning:function(t){return null!=x[t]},start:function(t,e,o,i,s,l){var n=L(),r=n,a=0,c=0,h=w++;if(l||(l=document.body),h%20==0){var _={};for(var u in x)_[u]=!0;x=_}return x[h]=!0,M.effect.Animate.requestAnimationFrame(function _(u){var p=!0!==u,d=L();if(!x[h]||e&&!e(h))return x[h]=null,void(o&&o(60-c/((d-n)/1e3),h,!1));if(p)for(var f=Math.round((d-r)/(1e3/60))-1,m=0;m<Math.min(f,4);m++)_(!0),c++;i&&(a=(d-n)/i)>1&&(a=1);var v=s?s(a):a;!1!==t(v,d,p)&&1!==a||!p?p&&(r=d,M.effect.Animate.requestAnimationFrame(_,l)):(x[h]=null,o&&o(60-c/((d-n)/1e3),h,1===a||null==i))},l),h}};var z=function(){},B=function(t){return Math.pow(t-1,3)+1},A=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)};function O(t,e){for(var o in this.__callback=t,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:z,onScroll:z,penetrationDeceleration:.03,penetrationAcceleration:.08},e)this.options[o]=e[o]}var $={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(t,e,o,i){t===+t&&(this.__clientWidth=t),e===+e&&(this.__clientHeight=e),o===+o&&(this.__contentWidth=o),i===+i&&(this.__contentHeight=i),this.__computeScrollMax(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0)},setPosition:function(t,e){this.__clientLeft=t||0,this.__clientTop=e||0},setSnapSize:function(t,e){this.__snapWidth=t,this.__snapHeight=e},activatePullToRefresh:function(t,e,o,i){this.__refreshHeight=t,this.__refreshActivate=e,this.__refreshDeactivate=o,this.__refreshStart=i},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(t,e,o,i,s){if(!this.options.zooming)throw new Error("Zooming is not enabled!");s&&(this.__zoomComplete=s),this.__isDecelerating&&(M.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1);var l=this.__zoomLevel;null==o&&(o=this.__clientWidth/2),null==i&&(i=this.__clientHeight/2),t=Math.max(Math.min(t,this.options.maxZoom),this.options.minZoom),this.__computeScrollMax(t);var n=(o+this.__scrollLeft)*t/l-o,r=(i+this.__scrollTop)*t/l-i;n>this.__maxScrollLeft?n=this.__maxScrollLeft:n<0&&(n=0),r>this.__maxScrollTop?r=this.__maxScrollTop:r<0&&(r=0),this.__publish(n,r,t,e)},zoomBy:function(t,e,o,i,s){this.zoomTo(this.__zoomLevel*t,e,o,i,s)},scrollTo:function(t,e,o,i){if(this.__isDecelerating&&(M.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1),null!=i&&i!==this.__zoomLevel){if(!this.options.zooming)throw new Error("Zooming is not enabled!");t*=i,e*=i,this.__computeScrollMax(i)}else i=this.__zoomLevel;this.options.scrollingX?this.options.paging?t=Math.round(t/this.__clientWidth)*this.__clientWidth:this.options.snapping&&(t=Math.round(t/this.__snapWidth)*this.__snapWidth):t=this.__scrollLeft,this.options.scrollingY?this.options.paging?e=Math.round(e/this.__clientHeight)*this.__clientHeight:this.options.snapping&&(e=Math.round(e/this.__snapHeight)*this.__snapHeight):e=this.__scrollTop,t=Math.max(Math.min(this.__maxScrollLeft,t),0),e=Math.max(Math.min(this.__maxScrollTop,e),0),console.log(t,e,this),t===this.__scrollLeft&&e===this.__scrollTop&&(o=!1),this.__isTracking||this.__publish(t,e,i,o)},scrollBy:function(t,e,o){var i=this.__isAnimating?this.__scheduledLeft:this.__scrollLeft,s=this.__isAnimating?this.__scheduledTop:this.__scrollTop;this.scrollTo(i+(t||0),s+(e||0),o)},doMouseZoom:function(t,e,o,i){var s=t>0?.97:1.03;return this.zoomTo(this.__zoomLevel*s,!1,o-this.__clientLeft,i-this.__clientTop)},doTouchStart:function(t,e){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var o,i;this.__interruptedAnimation=!0,this.__isDecelerating&&(M.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1,this.__interruptedAnimation=!0),this.__isAnimating&&(M.effect.Animate.stop(this.__isAnimating),this.__isAnimating=!1,this.__interruptedAnimation=!0);var s=1===t.length;s?(o=t[0].pageX,i=t[0].pageY):(o=Math.abs(t[0].pageX+t[1].pageX)/2,i=Math.abs(t[0].pageY+t[1].pageY)/2),this.__initialTouchLeft=o,this.__initialTouchTop=i,this.__zoomLevelStart=this.__zoomLevel,this.__lastTouchLeft=o,this.__lastTouchTop=i,this.__lastTouchMove=e,this.__lastScale=1,this.__enableScrollX=!s&&this.options.scrollingX,this.__enableScrollY=!s&&this.options.scrollingY,this.__isTracking=!0,this.__didDecelerationComplete=!1,this.__isDragging=!s,this.__isSingleTouch=s,this.__positions=[]},doTouchMove:function(t,e,o){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);if(this.__isTracking){var i,s;2===t.length?(i=Math.abs(t[0].pageX+t[1].pageX)/2,s=Math.abs(t[0].pageY+t[1].pageY)/2):(i=t[0].pageX,s=t[0].pageY);var l=this.__positions;if(this.__isDragging){var n=i-this.__lastTouchLeft,r=s-this.__lastTouchTop,a=this.__scrollLeft,c=this.__scrollTop,h=this.__zoomLevel;if(null!=o&&this.options.zooming){var _=h;if(h=h/this.__lastScale*o,_!==(h=Math.max(Math.min(h,this.options.maxZoom),this.options.minZoom))){var u=i-this.__clientLeft,p=s-this.__clientTop;a=(u+a)*h/_-u,c=(p+c)*h/_-p,this.__computeScrollMax(h)}}if(this.__enableScrollX){a-=n*this.options.speedMultiplier;var d=this.__maxScrollLeft;(a>d||a<0)&&(this.options.bouncing?a+=n/2*this.options.speedMultiplier:a=a>d?d:0)}if(this.__enableScrollY){c-=r*this.options.speedMultiplier;var f=this.__maxScrollTop;(c>f||c<0)&&(this.options.bouncing?(c+=r/2*this.options.speedMultiplier,this.__enableScrollX||null==this.__refreshHeight||(!this.__refreshActive&&c<=-this.__refreshHeight?(this.__refreshActive=!0,this.__refreshActivate&&this.__refreshActivate()):this.__refreshActive&&c>-this.__refreshHeight&&(this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate()))):c=c>f?f:0)}l.length>60&&l.splice(0,30),l.push(a,c,e),this.__publish(a,c,h)}else{var m=this.options.locking?3:0,v=Math.abs(i-this.__initialTouchLeft),g=Math.abs(s-this.__initialTouchTop);this.__enableScrollX=this.options.scrollingX&&v>=m,this.__enableScrollY=this.options.scrollingY&&g>=m,l.push(this.__scrollLeft,this.__scrollTop,e),this.__isDragging=(this.__enableScrollX||this.__enableScrollY)&&(v>=5||g>=5),this.__isDragging&&(this.__interruptedAnimation=!1)}this.__lastTouchLeft=i,this.__lastTouchTop=s,this.__lastTouchMove=e,this.__lastScale=o}},doTouchEnd:function(t){if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);if(this.__isTracking){if(this.__isTracking=!1,this.__isDragging)if(this.__isDragging=!1,this.__isSingleTouch&&this.options.animating&&t-this.__lastTouchMove<=100){for(var e=this.__positions,o=e.length-1,i=o,s=o;s>0&&e[s]>this.__lastTouchMove-100;s-=3)i=s;if(i!==o){var l=e[o]-e[i],n=this.__scrollLeft-e[i-2],r=this.__scrollTop-e[i-1];this.__decelerationVelocityX=n/l*(1e3/60),this.__decelerationVelocityY=r/l*(1e3/60);var a=this.options.paging||this.options.snapping?4:1;Math.abs(this.__decelerationVelocityX)>a||Math.abs(this.__decelerationVelocityY)>a?this.__refreshActive||this.__startDeceleration(t):this.options.scrollingComplete()}else this.options.scrollingComplete()}else t-this.__lastTouchMove>100&&this.options.scrollingComplete();this.__isDecelerating||(this.__refreshActive&&this.__refreshStart?(this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()):((this.__interruptedAnimation||this.__isDragging)&&this.options.scrollingComplete(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0,this.__zoomLevel),this.__refreshActive&&(this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate()))),this.__positions.length=0}},__publish:function(t,e,o,i){var s=this,l=s.__isAnimating;if(l&&(M.effect.Animate.stop(l),s.__isAnimating=!1),i&&s.options.animating){s.__scheduledLeft=t,s.__scheduledTop=e,s.__scheduledZoom=o;var n=s.__scrollLeft,r=s.__scrollTop,a=s.__zoomLevel,c=t-n,h=e-r,_=o-a;s.__isAnimating=M.effect.Animate.start(function(t,e,o){o&&(s.__scrollLeft=n+c*t,s.__scrollTop=r+h*t,s.__zoomLevel=a+_*t,s.__callback&&(s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel),s.options.onScroll()))},function(t){return s.__isAnimating===t},function(t,e,o){e===s.__isAnimating&&(s.__isAnimating=!1),(s.__didDecelerationComplete||o)&&s.options.scrollingComplete(),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null))},s.options.animationDuration,l?B:A)}else s.__scheduledLeft=s.__scrollLeft=t,s.__scheduledTop=s.__scrollTop=e,s.__scheduledZoom=s.__zoomLevel=o,s.__callback&&(s.__callback(t,e,o),s.options.onScroll()),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null))},__computeScrollMax:function(t){null==t&&(t=this.__zoomLevel),this.__maxScrollLeft=Math.max(this.__contentWidth*t-this.__clientWidth,0),this.__maxScrollTop=Math.max(this.__contentHeight*t-this.__clientHeight,0)},__startDeceleration:function(t){var e=this;if(e.options.paging){var o=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),i=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),s=e.__clientWidth,l=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(o/s)*s,e.__minDecelerationScrollTop=Math.floor(i/l)*l,e.__maxDecelerationScrollLeft=Math.ceil(o/s)*s,e.__maxDecelerationScrollTop=Math.ceil(i/l)*l}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop;var n=e.options.snapping?4:.001;e.__isDecelerating=M.effect.Animate.start(function(t,o,i){e.__stepThroughDeceleration(i)},function(){var t=Math.abs(e.__decelerationVelocityX)>=n||Math.abs(e.__decelerationVelocityY)>=n;return t||(e.__didDecelerationComplete=!0),t},function(t,o,i){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.options.scrollingComplete(),e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)})},__stepThroughDeceleration:function(t){var e=this.__scrollLeft+this.__decelerationVelocityX,o=this.__scrollTop+this.__decelerationVelocityY;if(!this.options.bouncing){var i=Math.max(Math.min(this.__maxDecelerationScrollLeft,e),this.__minDecelerationScrollLeft);i!==e&&(e=i,this.__decelerationVelocityX=0);var s=Math.max(Math.min(this.__maxDecelerationScrollTop,o),this.__minDecelerationScrollTop);s!==o&&(o=s,this.__decelerationVelocityY=0)}if(t?this.__publish(e,o,this.__zoomLevel):(this.__scrollLeft=e,this.__scrollTop=o),!this.options.paging){this.__decelerationVelocityX*=.95,this.__decelerationVelocityY*=.95}if(this.options.bouncing){var l=0,n=0,r=this.options.penetrationDeceleration,a=this.options.penetrationAcceleration;e<this.__minDecelerationScrollLeft?l=this.__minDecelerationScrollLeft-e:e>this.__maxDecelerationScrollLeft&&(l=this.__maxDecelerationScrollLeft-e),o<this.__minDecelerationScrollTop?n=this.__minDecelerationScrollTop-o:o>this.__maxDecelerationScrollTop&&(n=this.__maxDecelerationScrollTop-o),0!==l&&(l*this.__decelerationVelocityX<=0?this.__decelerationVelocityX+=l*r:this.__decelerationVelocityX=l*a),0!==n&&(n*this.__decelerationVelocityY<=0?this.__decelerationVelocityY+=n*r:this.__decelerationVelocityY=n*a),Math.abs(this.__decelerationVelocityY)<.001&&console.log(this.__decelerationVelocityY)}}};for(var E in $)O.prototype[E]=$[E];function P(t,e){var o={ref:"scrollPanel",style:{},nativeOn:{scroll:e.handleScroll},props:{ops:e.mergedOptions.scrollPanel,state:e.scrollPanel.state}};if("native"==e.mode){o.style.overflowY=e.vBar.state.size?"scroll":"inherit",o.style.overflowX=e.hBar.state.size?"scroll":"inherit";r();r.isUsed||(r.isUsed=!0),function(){if(!a){a=!0;var t=document.createElement("style");t.type="text/css",t.innerHTML=".vuescroll-panel::-webkit-scrollbar{width:0;height:0}",document.getElementsByTagName("HEAD").item(0).appendChild(t)}}(),o.style.height="100%",o.style.transformOrigin=""}else o.style.transformOrigin="left top 0px",o.style.userSelect="none";return t("scrollPanel",o,["native"==e.mode?function(t,e){var o={props:{ops:e.mergedOptions.scrollContent}};return t("scrollContent",o,[[e.$slots.default]])}(t,e):[e.$slots.default]])}function C(t,e,o){var i="vertical"===o?"vRail":"hRail",s="vertical"===o?"vBar":"hBar",l={props:{type:o,ops:e.mergedOptions[i],state:e[i].state}};return e[s].state.size?t("rail",l):null}function k(t,e,o){var i="vertical"===o?"vBar":"hBar",s={props:{type:o,ops:e.mergedOptions[i],state:e[i].state},on:{setMousedown:e.setMousedown},ref:o+"Bar"};return e[i].state.size?t("bar",s):null}var Y={name:"vueScroll",mixins:[p,f],data:function(){return{vuescroll:{state:{isDragging:!1,listeners:[],mousedown:!1,pointerLeave:!0,timeoutId:0,updateType:"",internalScrollTop:0,internalScrollLeft:0}},scrollPanel:{el:"",state:{left:0,top:0,zoom:1}},scrollContent:{},vRail:{state:{}},hRail:{state:{}},vBar:{state:{posValue:0,size:0,opacity:0}},hBar:{state:{posValue:0,size:0,opacity:0}},mergedOptions:{vuescroll:{},scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}},render:function(t){var e=this,o={style:{position:"relative",height:"100%",width:"100%",padding:0},class:"vue-scroll",on:{mouseenter:function(){e.vuescroll.state.pointerLeave=!1,e.showBar(),e.update()},mouseleave:function(){e.vuescroll.state.pointerLeave=!0,e.hideBar()},mousemove:function(){e.vuescroll.state.pointerLeave=!1,e.showBar(),e.update()}}};return"native"==this.mode?(o.style.overflowY=e.vBar.state.size?"hidden":"inherit",o.style.overflowX=e.hBar.state.size?"hidden":"inherit"):o.style.overflow="hidden",t("div",o,[P(t,e),C(t,e,"vertical"),k(t,e,"vertical"),C(t,e,"horizontal"),k(t,e,"horizontal")])},computed:{scrollPanelElm:function(){return this.$refs.scrollPanel.$el},mode:function(){return this.mergedOptions.vuescroll.mode}},methods:{updateScroller:function(){var t=this.$el.clientWidth,e=this.$el.clientHeight,o=this.scrollPanelElm.scrollWidth,i=this.scrollPanelElm.scrollHeight;this.scroller.setDimensions(t,e,o,i)},handleScroll:function(t){this.update("handle-scroll",t),this.showAndDefferedHideBar()},showAndDefferedHideBar:function(){var t=this;this.showBar(),this.vuescroll.state.timeoutId&&clearTimeout(this.vuescroll.state.timeoutId),this.vuescroll.state.timeoutId=setTimeout(function(){t.vuescroll.state.timeoutId=0,t.hideBar()},500)},emitEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=this.scrollPanelElm,i={type:"vertical"},s={type:"horizontal"},l=o.scrollTop,n=o.scrollLeft;"native"!=this.mode&&(l=this.scroller.__scrollTop,n=this.scroller.__scrollLeft),i.process=l/(o.scrollHeight-o.clientHeight),s.process=n/(o.scrollWidth-o.clientWidth),i.barSize=this.vBar.state.size,s.barSize=this.hBar.state.size,this.$emit(t,i,s,e)},update:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=void 0,i=void 0,s=this.scrollPanelElm,l=this.$el;if(s){if("native"==this.mode)o=100*s.clientHeight/s.scrollHeight,i=100*s.clientWidth/s.scrollWidth,this.vBar.state.posValue=100*s.scrollTop/s.clientHeight,this.hBar.state.posValue=100*s.scrollLeft/s.clientWidth;else{!1!==e&&this.updateScroller();var n=this.scroller,r=0,a=0,c=l.clientWidth,h=l.clientHeight,_=c+this.scroller.__maxScrollLeft,u=h+this.scroller.__maxScrollTop,p=h<u;c<_&&(n.__scrollLeft<0?r=-n.__scrollLeft:n.__scrollLeft>n.__maxScrollLeft&&(r=n.__scrollLeft-n.__maxScrollLeft)),p&&(n.__scrollTop<0?a=-n.__scrollTop:n.__scrollTop>n.__maxScrollTop&&(a=n.__scrollTop-n.__maxScrollTop)),o=100*h/(u+a),i=100*c/(_+r);var d=Math.min(Math.max(0,n.__scrollTop),n.__maxScrollTop),f=Math.min(Math.max(0,n.__scrollLeft),n.__maxScrollLeft);this.vBar.state.posValue=100*(d+a)/l.clientHeight,this.hBar.state.posValue=100*(f+r)/l.clientWidth,n.__scrollLeft<0&&(this.hBar.state.posValue=0),n.__scrollTop<0&&(this.vBar.state.posValue=0)}this.vBar.state.size=o<100?o+"%":0,this.hBar.state.size=i<100?i+"%":0,t&&this.emitEvent(t,e)}},showBar:function(){this.vBar.state.opacity=this.mergedOptions.vBar.opacity,this.hBar.state.opacity=this.mergedOptions.hBar.opacity},hideBar:function(){this.vuescroll.state.isDragging||(this.mergedOptions.vBar.keepShow||this.vuescroll.state.mousedown||!this.vuescroll.state.pointerLeave||(this.vBar.state.opacity=0),this.mergedOptions.hBar.keepShow||this.vuescroll.state.mousedown||!this.vuescroll.state.pointerLeave||(this.hBar.state.opacity=0))},setMousedown:function(t){this.vuescroll.state.mousedown=t},registryResize:function(){var t=this;this.destroyResize&&this.destroyResize();var e="native"!==this.mode?this.scrollPanelElm:this.$refs.scrollContent._isVue?this.$refs.scrollContent.$el:this.$refs.scrollContent;window.addEventListener("resize",function(){t.update(),t.showBar(),t.hideBar()},!1);var o=[function(e){t.vuescroll.state.updateType="resize",t.update("handle-resize",e),t.showAndDefferedHideBar()}];this.destroyResize=function(t,e){window.getComputedStyle(t);var o=document.createElement("object");return o.style.cssText="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",o.tabIndex=-1,o.type="text/html",o.onload=function(){e.forEach(function(t){c(o.contentDocument.defaultView,"resize",t)})},t.appendChild(o),function(){o.contentDocument&&e.forEach(function(t){h(o.contentDocument.defaultView,"resize",t)}),t.removeChild(o)}}(e,o)},registryScroller:function(){var t=this;this.scroller=new O(function(t,e){var o,i=document.documentElement.style;e.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?o="presto":"MozAppearance"in i?o="gecko":"WebkitAppearance"in i?o="webkit":"string"==typeof navigator.cpuClass&&(o="trident");var s={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[o],l=document.createElement("div"),n=s+"Perspective",r=s+"Transform";return void 0!==l.style[n]?function(e,o,i){t.style[r]="translate3d("+-e+"px,"+-o+"px,0) scale("+i+")"}:void 0!==l.style[r]?function(e,o,i){t.style[r]="translate("+-e+"px,"+-o+"px) scale("+i+")"}:function(e,o,i){t.style.marginLeft=e?-e/i+"px":"",t.style.marginTop=o?-o/i+"px":"",t.style.zoom=i||""}}(this.scrollPanelElm,window),{zooming:!0});var e=this.$el.getBoundingClientRect();this.scroller.setPosition(e.left+this.$el.clientLeft,e.top+this.$el.clientTop);var o=function(t,e,o){var i=null;if("ontouchstart"in window){var s=function(t){t.touches[0]&&t.touches[0].target&&t.touches[0].target.tagName.match(/input|textarea|select/i)||(o("mousedown"),e.doTouchStart(t.touches,t.timeStamp),t.preventDefault())},l=function(t){o("mousemove"),e.doTouchMove(t.touches,t.timeStamp,t.scale)},n=function(t){o("mouseup"),e.doTouchEnd(t.timeStamp)},r=function(t){e.doTouchEnd(t.timeStamp)};t.addEventListener("touchstart",s,!1),document.addEventListener("touchmove",l,!1),document.addEventListener("touchend",n,!1),document.addEventListener("touchcancel",r,!1),i=function(){t.removeEventListener("touchstart",s,!1),document.removeEventListener("touchmove",l,!1),document.removeEventListener("touchend",n,!1),document.removeEventListener("touchcancel",r,!1)}}else{var a=function(t){t.target.tagName.match(/input|textarea|select/i)||(o("mousedown"),e.doTouchStart([{pageX:t.pageX,pageY:t.pageY}],t.timeStamp),u=!0)},c=function(t){u&&(o("mousemove"),e.doTouchMove([{pageX:t.pageX,pageY:t.pageY}],t.timeStamp),u=!0)},h=function(t){u&&(o("mouseup"),e.doTouchEnd(t.timeStamp),u=!1)},_=function(t){e.doMouseZoom(t.detail?-120*t.detail:t.wheelDelta,t.timeStamp,t.pageX,t.pageY)},u=!1;t.addEventListener("mousedown",a,!1),document.addEventListener("mousemove",c,!1),document.addEventListener("mouseup",h,!1),t.addEventListener(navigator.userAgent.indexOf("Firefox")>-1?"DOMMouseScroll":"mousewheel",_,!1),i=function(){t.removeEventListener("mousedown",a,!1),document.removeEventListener("mousemove",c,!1),document.removeEventListener("mouseup",h,!1),t.removeEventListener(navigator.userAgent.indexOf("Firefox")>-1?"DOMMouseScroll":"mousewheel",_,!1)}}return e.options.onScroll=function(){o("onscroll")},i}(this.$el,this.scroller,function(e){switch(e){case"mousedown":t.vuescroll.state.isDragging=!0;break;case"onscroll":t.handleScroll(!1);break;case"mouseup":t.vuescroll.state.isDragging=!1}});return this.updateScroller(),o}},mounted:function(){var t=this;this._isDestroyed||("native"!==this.mode&&(this.destroyScroller=this.registryScroller()),this.registryResize(),this.$watch("mergedOptions.vuescroll.mode",function(){t.registryResize(),t.destroyScroller&&(t.destroyScroller(),t.destroyScroller=null),"native"!==t.mode?(t.destroyScroller=t.registryScroller(),t.scroller.scrollTo(t.vuescroll.state.internalScrollLeft,t.vuescroll.state.internalScrollTop,!1)):(t.scrollPanelElm.style.transform="",t.scrollTo({x:t.vuescroll.state.internalScrollLeft,y:t.vuescroll.state.internalScrollTop},!1))}),this.$watch("mergedOptions.vuescroll.mode",function(){"native"==t.mode?(t.vuescroll.state.internalScrollLeft=t.scroller.__scrollLeft,t.vuescroll.state.internalScrollTop=t.scroller.__scrollTop):(t.vuescroll.state.internalScrollLeft=t.scrollPanelElm.scrollLeft,t.vuescroll.state.internalScrollTop=t.scrollPanelElm.scrollTop)},{sync:!0}),this.update(),this.showBar(),this.hideBar())},updated:function(){var t=this;this.$nextTick(function(){if(!t._isDestroyed){if("resize"==t.vuescroll.state.updateType)return void(t.vuescroll.state.updateType="");t.update(),t.showBar(),t.hideBar()}})},components:{bar:g,rail:y,scrollContent:T,scrollPanel:b},props:{ops:{default:function(){return{vuescroll:{},scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}}}},H={install:function(t){H.isInstalled?console.warn("You should not install the vuescroll again!"):(t.component(Y.name,Y),t.prototype.$vuescrollConfig=u,H.isInstalled=!0)}};return void 0!==t&&t.use(H),H});