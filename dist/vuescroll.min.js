/*
    * @name: vuescroll 3.7.1
    * @author: (c) 2018-2018 wangyi7099
    * @description: A virtual scrollbar based on vue.js 2.x
    * @license: MIT
    * @GitHub: https://github.com/wangyi7099/vuescroll
    */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):e.vuescroll=t(e.Vue)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={vertical:{bar:{size:"height",opsSize:"width",posName:"top",page:"pageY",scroll:"scrollTop",scrollSize:"scrollHeight",offset:"offsetHeight",client:"clientY"},axis:"Y"},horizontal:{bar:{size:"width",opsSize:"height",posName:"left",page:"pageX",scroll:"scrollLeft",scrollSize:"scrollWidth",offset:"offsetWidth",client:"clientX"},axis:"X"}},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,t){for(var i in t="object"===(void 0===t?"undefined":o(t))&&t||{},e)t[i]="object"===o(e[i])?s(e[i],t[i]={}):e[i];return t}function i(e,t){for(var r in t=t||{},e)"object"===o(e[r])?void 0===t[r]?(t[r]={},s(e[r],t[r])):i(e[r],t[r]):void 0===t[r]&&(t[r]=e[r]);return t}function r(e,t,o,s){var i=null;(o[t]||"function"==typeof o)&&(s=s||t,"function"==typeof o&&(i=o),Object.defineProperty(e,t,{get:i||function(){return o[s]},configurable:!0}))}var n=void 0;function a(){if(e.prototype.$isServer)return 0;if(void 0!==n)return n;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var o=t.offsetWidth;t.style.overflow="scroll";var s=document.createElement("div");s.style.width="100%",t.appendChild(s);var i=s.offsetWidth;return t.parentNode.removeChild(t),n=o-i,a.isUsed=!1,n}var l=!1;function c(e,t,o){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,o,s)}function p(e,t,o){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,o,s)}function u(e,t){var o=null;return"easeInQuad"===e&&(o=t*t),"easeOutQuad"===e&&(o=t*(2-t)),"easeInOutQuad"===e&&(o=t<.5?2*t*t:(4-2*t)*t-1),"easeInCubic"===e&&(o=t*t*t),"easeOutCubic"===e&&(o=--t*t*t+1),"easeInOutCubic"===e&&(o=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(o=t*t*t*t),"easeOutQuart"===e&&(o=1- --t*t*t*t),"easeInOutQuart"===e&&(o=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(o=t*t*t*t*t),"easeOutQuint"===e&&(o=1+--t*t*t*t*t),"easeInOutQuint"===e&&(o=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),o||t}var h={scrollPanel:{initialScrollY:!1,initialScrollX:!1,speed:300,easing:void 0},scrollContent:{tag:"div",padding:!0,height:"100%",props:{},attrs:{}},vRail:{width:"5px",pos:"right",background:"#a5d6a7",opacity:0},vBar:{width:"5px",pos:"right",background:"#4caf50",deltaY:100,keepShow:!1,opacity:1},hRail:{height:"5px",pos:"bottom",background:"#a5d6a7",opacity:0},hBar:{height:"5px",pos:"bottom",background:"#4caf50",keepShow:!1,opacity:1}};var d={created:function(){(function(){var e=this;if("vueScroll"===e.$options.name){var t=i(h,{});e.$options.propsData.ops=e.$options.propsData.ops||{},Object.keys(e.$options.propsData.ops).forEach(function(t){r(e.mergedOptions,t,e.$options.propsData.ops)}),i(t,e.mergedOptions),r(e.mergedOptions.vBar,"pos",e.mergedOptions.vRail),r(e.mergedOptions.vBar,"width",e.mergedOptions.vRail),r(e.mergedOptions.hBar,"pos",e.mergedOptions.hRail),r(e.mergedOptions.hBar,"height",e.mergedOptions.hRail),r(e.mergedOptions.scrollContent,"paddPos",function(){return"padding-"+e.mergedOptions.vRail.pos}),r(e.mergedOptions.scrollContent,"paddValue",function(){return e.mergedOptions.vRail.width})}}).call(this)}};function f(e,t,o){var s=void 0;return(s=/(\d+)%$/.exec(e))?(s=s[1],s=o[t]*s/100):s=e,s}var v={methods:{scrollTo:function(e){void 0===e.x?e.x=this.$refs.scrollPanel.$el.scrollLeft:e.x=f(e.x,"scrollWidth",this.scrollPanelElm),void 0===e.y?e.y=this.$refs.scrollPanel.$el.scrollTop:e.y=f(e.y,"scrollHeight",this.scrollPanelElm);var t,o,s,i,r,n,a,l,c,p,h=e.x,d=e.y;t=this.$refs.scrollPanel.$el,o=h-this.$refs.scrollPanel.$el.scrollLeft,s=d-this.$refs.scrollPanel.$el.scrollTop,i=this.mergedOptions.scrollPanel.speed,r=this.mergedOptions.scrollPanel.easing,n=null,a=null,l=null,c=t.scrollTop,p=t.scrollLeft,c+s<0&&(s=-c),c+s>t.scrollHeight&&(s=t.scrollHeight-c),p+o<0&&(o=-p),p+o>t.scrollWidth&&(o=t.scrollWidth-p),requestAnimationFrame(function e(h){n||(n=h);var d=h-n,f=d/i>1?1:d/i;a=p+o*u(r,f),l=c+s*u(r,f),(Math.abs(l-c)<=Math.abs(s)||Math.abs(a-p)<=Math.abs(o))&&(t.scrollTop=Math.floor(l),t.scrollLeft=Math.floor(a),f<1&&requestAnimationFrame(e))})},forceUpdate:function(){var e=this;this.$forceUpdate(),Object.keys(this.$refs).forEach(function(t){var o=e.$refs[t];o._isVue&&o.$forceUpdate()})}}},m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e};function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function b(e,t,o){var s="vertical"===o?"vRail":"hRail",i="vertical"===o?"vBar":"hBar",r={props:{type:o,ops:t.mergedOptions[s],state:t[s].state}};return t[i].state.size?e("rail",r):null}function B(e,t,o){var s="vertical"===o?"vBar":"hBar",i={props:{type:o,ops:t.mergedOptions[s],state:t[s].state},on:{setMousedown:t.setMousedown},ref:o+"Bar"};return t[s].state.size?e("bar",i):null}var S={name:"vueScroll",mixins:[d,v],data:function(){return{scrollPanel:{el:""},scrollContent:{},vRail:{state:{}},hRail:{state:{}},vBar:{state:{posValue:0,size:0,opacity:0}},hBar:{state:{posValue:0,size:0,opacity:0}},listeners:[],mousedown:!1,pointerLeave:!0,timeoutId:0,overflowY:!0,overflowX:!0,mergedOptions:{scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}},render:function(e){var t=this,o={style:{position:"relative",height:"100%",width:"100%",padding:0},class:"vueScroll",on:{mouseenter:function(){t.pointerLeave=!1,t.showBar(),t.update()},mouseleave:function(){t.pointerLeave=!0,t.hideBar()},mousemove:function(){t.pointerLeave=!1,t.showBar(),t.update()}}};return o.style.overflowY=t.vBar.state.size?"hidden":"visible",o.style.overflowX=t.hBar.state.size?"hidden":"visible",e("div",o,[function(e,t){var o={ref:"scrollPanel",style:{},nativeOn:{scroll:t.handleScroll},props:{ops:t.mergedOptions.scrollPanel}};o.style.overflowY=t.vBar.state.size?"scroll":"visible",o.style.overflowX=t.hBar.state.size?"scroll":"visible";var s=a();return a.isUsed||(a.isUsed=!0),s?(o.style.marginRight=t.hBar.state.size?-s+"px":0,t.hBar.state.size?o.style.height="calc(100% + "+s+"px)":o.style.height="100%",o.style.marginBottom=-s+"px"):o.style.height="100%",e("scrollPanel",o,[function(e,t){var o={props:{ops:t.mergedOptions.scrollContent}};return e("scrollContent",o,[[t.$slots.default]])}(e,t)])}(e,t),b(e,t,"vertical"),B(e,t,"vertical"),b(e,t,"horizontal"),B(e,t,"horizontal")])},computed:{scrollPanelElm:function(){return this.$refs.scrollPanel.$el}},methods:{handleScroll:function(){this.update(),this.pointerLeave&&(this.timeoutId&&clearTimeout(this.timeoutId),this.showAndDefferedHideBar())},showAndDefferedHideBar:function(){var e=this;this.showBar(),this.timeoutId=setTimeout(function(){e.timeoutId=0,e.hideBar()},500)},triggerScrollEvent:function(){var e=this.scrollPanelElm,t={},o={};t.process=e.scrollTop/(e.scrollHeight-e.clientHeight),o.process=e.scrollLeft/(e.scrollWidth-e.clientWidth),t.barSize=this.vBar.state.size,o.barSize=this.hBar.state.size,this.$emit("handle-scroll",t,o)},update:function(){var e,t,o=this.scrollPanelElm;o&&(e=100*o.clientHeight/(o.scrollHeight-this.accuracy),t=100*o.clientWidth/(o.scrollWidth-this.accuracy),this.vBar.state.size=e<100?e+"%":0,this.hBar.state.size=t<100?t+"%":0,this.vBar.state.posValue=100*o.scrollTop/o.clientHeight,this.hBar.state.posValue=100*o.scrollLeft/o.clientWidth,this.triggerScrollEvent())},showBar:function(){this.vBar.state.opacity=this.mergedOptions.vBar.opacity,this.hBar.state.opacity=this.mergedOptions.hBar.opacity},hideBar:function(){this.mergedOptions.vBar.keepShow||this.mousedown||!this.pointerLeave||(this.vBar.state.opacity=0),this.mergedOptions.hBar.keepShow||this.mousedown||!this.pointerLeave||(this.hBar.state.opacity=0)},setMousedown:function(e){this.mousedown=e}},mounted:function(){var e=this;this.$nextTick(function(){e._isDestroyed||(e.update(),e.showBar(),e.hideBar())})},updated:function(){var e=this;this.$nextTick(function(){e._isDestroyed||(e.update(),e.showBar(),e.hideBar())})},components:{bar:{name:"bar",computed:{bar:function(){return t[this.type].bar},parent:function(){return this.$parent.$refs}},render:function(e){var o,s,i;return e("div",{style:m((g(o={},this.bar.posName,0),g(o,this.ops.pos,0),g(o,this.bar.size,this.state.size),g(o,this.bar.opsSize,this.ops[this.bar.opsSize]),g(o,"background",this.ops.background),g(o,"opacity",this.state.opacity),g(o,"cursor","pointer"),g(o,"position","absolute"),g(o,"borderRadius","4px"),g(o,"transition","opacity .5s"),g(o,"cursor","pointer"),g(o,"userSelect","none"),o),(s=this.type,i=this.state.posValue,{transform:"translate"+t[s].axis+"("+i+"%)",msTransform:"translate"+t[s].axis+"("+i+"%)",webkitTransform:"translate"+t[s].axis+"("+i+"%)"})),class:this.type+"Scrollbar",on:{mousedown:this.handleMousedown}})},methods:{handleMousedown:function(e){e.stopPropagation(),this.axisStartPos=e[this.bar.client]-this.$el.getBoundingClientRect()[this.bar.posName],this.$emit("setMousedown",!0),c(document,"mousemove",this.handleMouseMove),c(document,"mouseup",this.handleMouseUp)},handleMouseMove:function(e){if(this.axisStartPos){var t=(e[this.bar.client]-this.parent[this.type+"Rail"].getBoundingClientRect()[this.bar.posName]-this.axisStartPos)/this.parent[this.type+"Rail"][this.bar.offset];this.parent.scrollPanel.$el[this.bar.scroll]=this.parent.scrollPanel.$el[this.bar.scrollSize]*t}},handleMouseUp:function(){this.$emit("setMousedown",!1),this.$parent.hideBar(),this.axisStartPos=0,p(document,"mousemove",this.handleMouseMove),p(document,"mouseup",this.handleMouseUp)}},props:{ops:{type:Object,required:!0},state:{type:Object,required:!0},type:{type:String,required:!0}}},rail:{name:"rail",functional:!0,render:function(e,o){var s,i=o.parent,r=o.props,n=t[r.type].bar,a=i.$refs;return e("div",{style:(y(s={},n.posName,0),y(s,r.ops.pos,0),y(s,n.size,"100%"),y(s,n.opsSize,r.ops[n.opsSize]),y(s,"background",r.ops.background),y(s,"opacity",r.ops.opacity),y(s,"position","absolute"),y(s,"cursor","pointer"),y(s,"borderRadius","4px"),s),class:r.type+"Rail",ref:r.type+"Rail",on:{click:function(e){!function(e,o,s,i,r){var n=o.page,a=s[i+"Bar"].$el[o.offset],l=(e[n]-e.target.getBoundingClientRect()[o.posName]-a/2)/e.target[o.offset],c=s.scrollPanel.$el[o.scrollSize]*l;r.scrollTo(y({},t[i].axis.toLowerCase(),c))}(e,n,a,r.type,i)}}})}},scrollContent:{name:"scrollContent",functional:!0,render:function(e,t){var o=t.props,s=t.slots,r=i(o.state.style,{});return r.height=o.ops.height,o.ops.padding&&(r[o.ops.paddPos]=o.ops.paddValue),e(o.ops.tag,{style:r,class:"scrollContent",props:o.ops.props,attrs:o.ops.attrs},s().default)},props:{ops:{default:function(){return{}}},state:{default:function(){return{}}}}},scrollPanel:{name:"scrollPanel",methods:{updateInitialScroll:function(){var e=0,t=0;this.ops.initialScrollX&&(e=this.ops.initialScrollX),this.ops.initialScrollY&&(t=this.ops.initialScrollY),this.$parent.scrollTo({x:e,y:t})}},mounted:function(){var e=this;this.$nextTick(function(){e._isDestroyed||e.updateInitialScroll()})},render:function(e){!function(){if(!l){l=!0;var e=document.createElement("style");e.type="text/css",e.innerHTML=".scrollPanel::-webkit-scrollbar{width:0;height:0}",document.getElementsByTagName("HEAD").item(0).appendChild(e)}}();return e("div",{class:["scrollPanel"]},[[this.$slots.default]])},props:{ops:{default:function(){return{}},validator:function(e){var t=!0,o=(e=e||{}).initialScrollY,s=e.initialScrollX;return o&&!String(o).match(/^\d+(\.\d+)?(%)?$/)&&(console.error("[vuescroll]: The prop `initialScrollY` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),t=!1),s&&!String(s).match(/^\d+(\.\d+)?(%)?$/)&&(console.error("[vuescroll]: The prop `initialScrollX` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),t=!1),t}}}}},props:{ops:{default:function(){return{scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}},accuracy:{default:0,validator:function(e){return!(e<0)||(console.error("[vuescroll]:The prop `accury` must be 0 or higher!"),!1)}}}},w={install:function(e){w.isInstalled?console.warn("You should not install the vuescroll again!"):(e.component(S.name,S),e.prototype.$vuescrollConfig=h,w.isInstalled=!0)}};return void 0!==e&&e.use(w),w});