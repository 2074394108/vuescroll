/*
    * @name: vuescroll 3.7.12
    * @author: (c) 2018-2018 wangyi7099
    * @description: A virtual scrollbar based on vue.js 2.x
    * @license: MIT
    * @GitHub: https://github.com/wangyi7099/vuescroll
    */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):t.vuescroll=e(t.Vue)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={vertical:{bar:{size:"height",opsSize:"width",posName:"top",page:"pageY",scroll:"scrollTop",scrollSize:"scrollHeight",offset:"offsetHeight",client:"clientY"},axis:"Y"},horizontal:{bar:{size:"width",opsSize:"height",posName:"left",page:"pageX",scroll:"scrollLeft",scrollSize:"scrollWidth",offset:"offsetWidth",client:"clientX"},axis:"X"}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){for(var s in e="object"===(void 0===e?"undefined":i(e))&&e||{},t)e[s]="object"===i(t[s])?o(t[s],e[s]={}):t[s];return e}function s(t,e){for(var n in e=e||{},t)"object"===i(t[n])?void 0===e[n]?(e[n]={},o(t[n],e[n])):s(t[n],e[n]):void 0===e[n]&&(e[n]=t[n]);return e}function n(t,e,i,o){var s=null;(i[e]||"function"==typeof i)&&(o=o||e,"function"==typeof i&&(s=i),Object.defineProperty(t,e,{get:s||function(){return i[o]},configurable:!0}))}var l=void 0;function r(){if(t.prototype.$isServer)return 0;if(void 0!==l)return l;var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var i=e.offsetWidth;e.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",e.appendChild(o);var s=o.offsetWidth;return e.parentNode.removeChild(e),l=i-s,r.isUsed=!1,l}var a=!1;function c(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.addEventListener(e,i,o)}function h(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,i,o)}function _(t,e){var i=null;return"easeInQuad"===t&&(i=e*e),"easeOutQuad"===t&&(i=e*(2-e)),"easeInOutQuad"===t&&(i=e<.5?2*e*e:(4-2*e)*e-1),"easeInCubic"===t&&(i=e*e*e),"easeOutCubic"===t&&(i=--e*e*e+1),"easeInOutCubic"===t&&(i=e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1),"easeInQuart"===t&&(i=e*e*e*e),"easeOutQuart"===t&&(i=1- --e*e*e*e),"easeInOutQuart"===t&&(i=e<.5?8*e*e*e*e:1-8*--e*e*e*e),"easeInQuint"===t&&(i=e*e*e*e*e),"easeOutQuint"===t&&(i=1+--e*e*e*e*e),"easeInOutQuint"===t&&(i=e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e),i||e}var p={vuescroll:{mode:"native"},scrollPanel:{initialScrollY:!1,initialScrollX:!1,speed:300,easing:void 0},scrollContent:{tag:"div",padding:!0,props:{},attrs:{}},vRail:{width:"5px",pos:"right",background:"#a5d6a7",opacity:0},hRail:{height:"5px",pos:"bottom",background:"#a5d6a7",opacity:0},vBar:{width:"5px",pos:"right",background:"#4caf50",deltaY:100,keepShow:!1,opacity:1,hover:!1},hBar:{height:"5px",pos:"bottom",background:"#4caf50",keepShow:!1,opacity:1,hover:!1}};var u={created:function(){(function(){var t=this;if("vueScroll"===t.$options.name){var e=s(p,{});t.$options.propsData.ops=t.$options.propsData.ops||{},Object.keys(t.$options.propsData.ops).forEach(function(e){n(t.mergedOptions,e,t.$options.propsData.ops)}),s(e,t.mergedOptions),n(t.mergedOptions.vBar,"pos",t.mergedOptions.vRail),n(t.mergedOptions.vBar,"width",t.mergedOptions.vRail),n(t.mergedOptions.hBar,"pos",t.mergedOptions.hRail),n(t.mergedOptions.hBar,"height",t.mergedOptions.hRail),n(t.mergedOptions.scrollContent,"paddPos",function(){return"padding-"+t.mergedOptions.vRail.pos}),n(t.mergedOptions.scrollContent,"paddValue",function(){return t.mergedOptions.vRail.width})}}).call(this)}};function d(t,e,i){var o=void 0;return(o=/(\d+)%$/.exec(t))?(o=o[1],o=i[e]*o/100):o=t,o}var f={methods:{scrollTo:function(t){void 0===t.x?t.x=this.$refs.scrollPanel.$el.scrollLeft:t.x=d(t.x,"scrollWidth",this.scrollPanelElm),void 0===t.y?t.y=this.$refs.scrollPanel.$el.scrollTop:t.y=d(t.y,"scrollHeight",this.scrollPanelElm);var e,i,o,s,n,l,r,a,c,h,p=t.x,u=t.y;e=this.$refs.scrollPanel.$el,i=p-this.$refs.scrollPanel.$el.scrollLeft,o=u-this.$refs.scrollPanel.$el.scrollTop,s=this.mergedOptions.scrollPanel.speed,n=this.mergedOptions.scrollPanel.easing,l=null,r=null,a=null,c=e.scrollTop,h=e.scrollLeft,c+o<0&&(o=-c),c+o>e.scrollHeight&&(o=e.scrollHeight-c),h+i<0&&(i=-h),h+i>e.scrollWidth&&(i=e.scrollWidth-h),requestAnimationFrame(function t(p){l||(l=p);var u=p-l,d=u/s>1?1:u/s;r=h+i*_(n,d),a=c+o*_(n,d),(Math.abs(a-c)<=Math.abs(o)||Math.abs(r-h)<=Math.abs(i))&&(e.scrollTop=Math.floor(a),e.scrollLeft=Math.floor(r),d<1&&requestAnimationFrame(t))})},forceUpdate:function(){var t=this;this.$forceUpdate(),Object.keys(this.$refs).forEach(function(e){var i=t.$refs[e];i._isVue&&i.$forceUpdate()})}}},m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t};function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g={name:"bar",computed:{bar:function(){return e[this.type].bar},parent:function(){return this.$parent.$refs}},render:function(t){var i,o,s,n=this,l={style:m((v(i={},this.bar.posName,0),v(i,this.ops.pos,0),v(i,this.bar.size,this.state.size),v(i,this.bar.opsSize,this.ops[this.bar.opsSize]),v(i,"background",this.ops.background),v(i,"opacity",this.state.opacity),v(i,"cursor","pointer"),v(i,"position","absolute"),v(i,"borderRadius","4px"),v(i,"transition","opacity .5s"),v(i,"cursor","pointer"),v(i,"userSelect","none"),i),(o=this.type,s=this.state.posValue,{transform:"translate"+e[o].axis+"("+s+"%)",msTransform:"translate"+e[o].axis+"("+s+"%)",webkitTransform:"translate"+e[o].axis+"("+s+"%)"})),class:"vuescroll-"+this.type+"-scrollbar",on:{mousedown:this.handleMousedown}};return this.ops.hover&&(l.on.mouseenter=function(){n.$el.style.background=n.ops.hover},l.on.mouseleave=function(){n.$el.style.background=n.ops.background}),t("div",l)},methods:{handleMousedown:function(t){t.stopPropagation(),this.axisStartPos=t[this.bar.client]-this.$el.getBoundingClientRect()[this.bar.posName],this.$emit("setMousedown",!0),c(document,"mousemove",this.handleMouseMove),c(document,"mouseup",this.handleMouseUp)},handleMouseMove:function(t){if(this.axisStartPos){var e=(t[this.bar.client]-this.parent[this.type+"Rail"].getBoundingClientRect()[this.bar.posName]-this.axisStartPos)/this.parent[this.type+"Rail"][this.bar.offset];this.parent.scrollPanel.$el[this.bar.scroll]=this.parent.scrollPanel.$el[this.bar.scrollSize]*e}},handleMouseUp:function(){this.$emit("setMousedown",!1),this.$parent.hideBar(),this.axisStartPos=0,h(document,"mousemove",this.handleMouseMove),h(document,"mouseup",this.handleMouseUp)}},props:{ops:{type:Object,required:!0},state:{type:Object,required:!0},type:{type:String,required:!0}}};function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var S={name:"rail",functional:!0,render:function(t,i){var o,s=i.parent,n=i.props,l=e[n.type].bar,r=s.$refs;return t("div",{style:(y(o={},l.posName,0),y(o,n.ops.pos,0),y(o,l.size,"100%"),y(o,l.opsSize,n.ops[l.opsSize]),y(o,"background",n.ops.background),y(o,"opacity",n.ops.opacity),y(o,"position","absolute"),y(o,"cursor","pointer"),y(o,"borderRadius","4px"),o),class:"vuescroll-"+n.type+"-rail",ref:n.type+"Rail",on:{click:function(t){!function(t,i,o,s,n){var l=i.page,r=o[s+"Bar"].$el[i.offset],a=(t[l]-t.target.getBoundingClientRect()[i.posName]-r/2)/t.target[i.offset],c=o.scrollPanel.$el[i.scrollSize]*a;n.scrollTo(y({},e[s].axis.toLowerCase(),c))}(t,l,r,n.type,s)}}})}},b={name:"scrollContent",functional:!0,render:function(t,e){var i=e.props,o=e.slots,n=s(i.state.style,{});return n.position="relative",n.minHeight="100%",i.ops.padding&&(n[i.ops.paddPos]=i.ops.paddValue),t(i.ops.tag,{style:n,ref:"scrollContent",class:"vuescroll-content",props:i.ops.props,attrs:i.ops.attrs},o().default)},props:{ops:{default:function(){return{}}},state:{default:function(){return{}}}}},T={name:"scrollPanel",methods:{updateInitialScroll:function(){var t=0,e=0;this.ops.initialScrollX&&(t=this.ops.initialScrollX),this.ops.initialScrollY&&(e=this.ops.initialScrollY),this.$parent.scrollTo({x:t,y:e})}},mounted:function(){var t=this;this.$nextTick(function(){t._isDestroyed||t.updateInitialScroll()})},render:function(t){return t("div",{class:["vuescroll-panel"]},[[this.$slots.default]])},props:{ops:{default:function(){return{}},validator:function(t){var e=!0,i=(t=t||{}).initialScrollY,o=t.initialScrollX;return i&&!String(i).match(/^\d+(\.\d+)?(%)?$/)&&(console.error("[vuescroll]: The prop `initialScrollY` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),e=!1),o&&!String(o).match(/^\d+(\.\d+)?(%)?$/)&&(console.error("[vuescroll]: The prop `initialScrollX` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),e=!1),e}},state:{}}},L=Date.now||function(){return+new Date},x={},M=1,w={effect:{}},D=window;w.effect.Animate={requestAnimationFrame:function(){var t=D.requestAnimationFrame||D.webkitRequestAnimationFrame||D.mozRequestAnimationFrame||D.oRequestAnimationFrame,e=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(e=!1),e)return function(e,i){t(e,i)};var i={},o=1,s=null,n=+new Date;return function(t,e){var l=o++;return i[l]=t,null===s&&(s=setInterval(function(){var t=+new Date,e=i;for(var o in i={},e)e.hasOwnProperty(o)&&(e[o](t),n=t);t-n>2500&&(clearInterval(s),s=null)},1e3/60)),l}}(),stop:function(t){var e=null!=x[t];return e&&(x[t]=null),e},isRunning:function(t){return null!=x[t]},start:function(t,e,i,o,s,n){var l=L(),r=l,a=0,c=0,h=M++;if(n||(n=document.body),h%20==0){var _={};for(var p in x)_[p]=!0;x=_}return x[h]=!0,w.effect.Animate.requestAnimationFrame(function _(p){var u=!0!==p,d=L();if(!x[h]||e&&!e(h))return x[h]=null,void(i&&i(60-c/((d-l)/1e3),h,!1));if(u)for(var f=Math.round((d-r)/(1e3/60))-1,m=0;m<Math.min(f,4);m++)_(!0),c++;o&&(a=(d-l)/o)>1&&(a=1);var v=s?s(a):a;!1!==t(v,d,u)&&1!==a||!u?u&&(r=d,w.effect.Animate.requestAnimationFrame(_,n)):(x[h]=null,i&&i(60-c/((d-l)/1e3),h,1===a||null==o))},n),h}};var z=function(){},B=function(t){return Math.pow(t-1,3)+1},$=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)};function A(t,e){for(var i in this.__callback=t,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:z,penetrationDeceleration:.03,penetrationAcceleration:.08},e)this.options[i]=e[i]}var O={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(t,e,i,o){t===+t&&(this.__clientWidth=t),e===+e&&(this.__clientHeight=e),i===+i&&(this.__contentWidth=i),o===+o&&(this.__contentHeight=o),this.__computeScrollMax(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0)},setPosition:function(t,e){this.__clientLeft=t||0,this.__clientTop=e||0},setSnapSize:function(t,e){this.__snapWidth=t,this.__snapHeight=e},activatePullToRefresh:function(t,e,i,o){this.__refreshHeight=t,this.__refreshActivate=e,this.__refreshDeactivate=i,this.__refreshStart=o},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(t,e,i,o,s){if(!this.options.zooming)throw new Error("Zooming is not enabled!");s&&(this.__zoomComplete=s),this.__isDecelerating&&(w.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1);var n=this.__zoomLevel;null==i&&(i=this.__clientWidth/2),null==o&&(o=this.__clientHeight/2),t=Math.max(Math.min(t,this.options.maxZoom),this.options.minZoom),this.__computeScrollMax(t);var l=(i+this.__scrollLeft)*t/n-i,r=(o+this.__scrollTop)*t/n-o;l>this.__maxScrollLeft?l=this.__maxScrollLeft:l<0&&(l=0),r>this.__maxScrollTop?r=this.__maxScrollTop:r<0&&(r=0),this.__publish(l,r,t,e)},zoomBy:function(t,e,i,o,s){this.zoomTo(this.__zoomLevel*t,e,i,o,s)},scrollTo:function(t,e,i,o){if(this.__isDecelerating&&(w.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1),null!=o&&o!==this.__zoomLevel){if(!this.options.zooming)throw new Error("Zooming is not enabled!");t*=o,e*=o,this.__computeScrollMax(o)}else o=this.__zoomLevel;this.options.scrollingX?this.options.paging?t=Math.round(t/this.__clientWidth)*this.__clientWidth:this.options.snapping&&(t=Math.round(t/this.__snapWidth)*this.__snapWidth):t=this.__scrollLeft,this.options.scrollingY?this.options.paging?e=Math.round(e/this.__clientHeight)*this.__clientHeight:this.options.snapping&&(e=Math.round(e/this.__snapHeight)*this.__snapHeight):e=this.__scrollTop,t=Math.max(Math.min(this.__maxScrollLeft,t),0),e=Math.max(Math.min(this.__maxScrollTop,e),0),t===this.__scrollLeft&&e===this.__scrollTop&&(i=!1),this.__isTracking||this.__publish(t,e,o,i)},scrollBy:function(t,e,i){var o=this.__isAnimating?this.__scheduledLeft:this.__scrollLeft,s=this.__isAnimating?this.__scheduledTop:this.__scrollTop;this.scrollTo(o+(t||0),s+(e||0),i)},doMouseZoom:function(t,e,i,o){var s=t>0?.97:1.03;return this.zoomTo(this.__zoomLevel*s,!1,i-this.__clientLeft,o-this.__clientTop)},doTouchStart:function(t,e){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var i,o;this.__interruptedAnimation=!0,this.__isDecelerating&&(w.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1,this.__interruptedAnimation=!0),this.__isAnimating&&(w.effect.Animate.stop(this.__isAnimating),this.__isAnimating=!1,this.__interruptedAnimation=!0);var s=1===t.length;s?(i=t[0].pageX,o=t[0].pageY):(i=Math.abs(t[0].pageX+t[1].pageX)/2,o=Math.abs(t[0].pageY+t[1].pageY)/2),this.__initialTouchLeft=i,this.__initialTouchTop=o,this.__zoomLevelStart=this.__zoomLevel,this.__lastTouchLeft=i,this.__lastTouchTop=o,this.__lastTouchMove=e,this.__lastScale=1,this.__enableScrollX=!s&&this.options.scrollingX,this.__enableScrollY=!s&&this.options.scrollingY,this.__isTracking=!0,this.__didDecelerationComplete=!1,this.__isDragging=!s,this.__isSingleTouch=s,this.__positions=[]},doTouchMove:function(t,e,i){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);if(this.__isTracking){var o,s;2===t.length?(o=Math.abs(t[0].pageX+t[1].pageX)/2,s=Math.abs(t[0].pageY+t[1].pageY)/2):(o=t[0].pageX,s=t[0].pageY);var n=this.__positions;if(this.__isDragging){var l=o-this.__lastTouchLeft,r=s-this.__lastTouchTop,a=this.__scrollLeft,c=this.__scrollTop,h=this.__zoomLevel;if(null!=i&&this.options.zooming){var _=h;if(h=h/this.__lastScale*i,_!==(h=Math.max(Math.min(h,this.options.maxZoom),this.options.minZoom))){var p=o-this.__clientLeft,u=s-this.__clientTop;a=(p+a)*h/_-p,c=(u+c)*h/_-u,this.__computeScrollMax(h)}}if(this.__enableScrollX){a-=l*this.options.speedMultiplier;var d=this.__maxScrollLeft;(a>d||a<0)&&(this.options.bouncing?a+=l/2*this.options.speedMultiplier:a=a>d?d:0)}if(this.__enableScrollY){c-=r*this.options.speedMultiplier;var f=this.__maxScrollTop;(c>f||c<0)&&(this.options.bouncing?(c+=r/2*this.options.speedMultiplier,this.__enableScrollX||null==this.__refreshHeight||(!this.__refreshActive&&c<=-this.__refreshHeight?(this.__refreshActive=!0,this.__refreshActivate&&this.__refreshActivate()):this.__refreshActive&&c>-this.__refreshHeight&&(this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate()))):c=c>f?f:0)}n.length>60&&n.splice(0,30),n.push(a,c,e),this.__publish(a,c,h)}else{var m=this.options.locking?3:0,v=Math.abs(o-this.__initialTouchLeft),g=Math.abs(s-this.__initialTouchTop);this.__enableScrollX=this.options.scrollingX&&v>=m,this.__enableScrollY=this.options.scrollingY&&g>=m,n.push(this.__scrollLeft,this.__scrollTop,e),this.__isDragging=(this.__enableScrollX||this.__enableScrollY)&&(v>=5||g>=5),this.__isDragging&&(this.__interruptedAnimation=!1)}this.__lastTouchLeft=o,this.__lastTouchTop=s,this.__lastTouchMove=e,this.__lastScale=i}},doTouchEnd:function(t){if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);if(this.__isTracking){if(this.__isTracking=!1,this.__isDragging)if(this.__isDragging=!1,this.__isSingleTouch&&this.options.animating&&t-this.__lastTouchMove<=100){for(var e=this.__positions,i=e.length-1,o=i,s=i;s>0&&e[s]>this.__lastTouchMove-100;s-=3)o=s;if(o!==i){var n=e[i]-e[o],l=this.__scrollLeft-e[o-2],r=this.__scrollTop-e[o-1];this.__decelerationVelocityX=l/n*(1e3/60),this.__decelerationVelocityY=r/n*(1e3/60);var a=this.options.paging||this.options.snapping?4:1;Math.abs(this.__decelerationVelocityX)>a||Math.abs(this.__decelerationVelocityY)>a?this.__refreshActive||this.__startDeceleration(t):this.options.scrollingComplete()}else this.options.scrollingComplete()}else t-this.__lastTouchMove>100&&this.options.scrollingComplete();this.__isDecelerating||(this.__refreshActive&&this.__refreshStart?(this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()):((this.__interruptedAnimation||this.__isDragging)&&this.options.scrollingComplete(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0,this.__zoomLevel),this.__refreshActive&&(this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate()))),this.__positions.length=0}},__publish:function(t,e,i,o){var s=this,n=s.__isAnimating;if(n&&(w.effect.Animate.stop(n),s.__isAnimating=!1),o&&s.options.animating){s.__scheduledLeft=t,s.__scheduledTop=e,s.__scheduledZoom=i;var l=s.__scrollLeft,r=s.__scrollTop,a=s.__zoomLevel,c=t-l,h=e-r,_=i-a;s.__isAnimating=w.effect.Animate.start(function(t,e,i){i&&(s.__scrollLeft=l+c*t,s.__scrollTop=r+h*t,s.__zoomLevel=a+_*t,s.__callback&&s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel))},function(t){return s.__isAnimating===t},function(t,e,i){e===s.__isAnimating&&(s.__isAnimating=!1),(s.__didDecelerationComplete||i)&&s.options.scrollingComplete(),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null))},s.options.animationDuration,n?B:$)}else s.__scheduledLeft=s.__scrollLeft=t,s.__scheduledTop=s.__scrollTop=e,s.__scheduledZoom=s.__zoomLevel=i,s.__callback&&s.__callback(t,e,i),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null))},__computeScrollMax:function(t){null==t&&(t=this.__zoomLevel),this.__maxScrollLeft=Math.max(this.__contentWidth*t-this.__clientWidth,0),this.__maxScrollTop=Math.max(this.__contentHeight*t-this.__clientHeight,0),console.log("maxTop:",this.__maxScrollTop)},__startDeceleration:function(t){var e=this;if(e.options.paging){var i=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),o=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),s=e.__clientWidth,n=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(i/s)*s,e.__minDecelerationScrollTop=Math.floor(o/n)*n,e.__maxDecelerationScrollLeft=Math.ceil(i/s)*s,e.__maxDecelerationScrollTop=Math.ceil(o/n)*n}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop;var l=e.options.snapping?4:.001;e.__isDecelerating=w.effect.Animate.start(function(t,i,o){e.__stepThroughDeceleration(o)},function(){var t=Math.abs(e.__decelerationVelocityX)>=l||Math.abs(e.__decelerationVelocityY)>=l;return t||(e.__didDecelerationComplete=!0),t},function(t,i,o){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.options.scrollingComplete(),e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)})},__stepThroughDeceleration:function(t){var e=this.__scrollLeft+this.__decelerationVelocityX,i=this.__scrollTop+this.__decelerationVelocityY;if(!this.options.bouncing){var o=Math.max(Math.min(this.__maxDecelerationScrollLeft,e),this.__minDecelerationScrollLeft);o!==e&&(e=o,this.__decelerationVelocityX=0);var s=Math.max(Math.min(this.__maxDecelerationScrollTop,i),this.__minDecelerationScrollTop);s!==i&&(i=s,this.__decelerationVelocityY=0)}if(t?this.__publish(e,i,this.__zoomLevel):(this.__scrollLeft=e,this.__scrollTop=i),!this.options.paging){this.__decelerationVelocityX*=.95,this.__decelerationVelocityY*=.95}if(this.options.bouncing){var n=0,l=0,r=this.options.penetrationDeceleration,a=this.options.penetrationAcceleration;e<this.__minDecelerationScrollLeft?n=this.__minDecelerationScrollLeft-e:e>this.__maxDecelerationScrollLeft&&(n=this.__maxDecelerationScrollLeft-e),i<this.__minDecelerationScrollTop?l=this.__minDecelerationScrollTop-i:i>this.__maxDecelerationScrollTop&&(l=this.__maxDecelerationScrollTop-i),0!==n&&(n*this.__decelerationVelocityX<=0?this.__decelerationVelocityX+=n*r:this.__decelerationVelocityX=n*a),0!==l&&(l*this.__decelerationVelocityY<=0?this.__decelerationVelocityY+=l*r:this.__decelerationVelocityY=l*a),Math.abs(this.__decelerationVelocityY)<.001&&console.log(this.__decelerationVelocityY)}}};for(var C in O)A.prototype[C]=O[C];function k(t,e){var i={ref:"scrollPanel",style:{},nativeOn:{scroll:e.handleScroll},props:{ops:e.mergedOptions.scrollPanel,state:e.scrollPanel.state}};if("native"==e.mode){i.style.overflowY=e.vBar.state.size?"scroll":"inherit",i.style.overflowX=e.hBar.state.size?"scroll":"inherit";r();r.isUsed||(r.isUsed=!0),function(){if(!a){a=!0;var t=document.createElement("style");t.type="text/css",t.innerHTML=".vuescroll-panel::-webkit-scrollbar{width:0;height:0}",document.getElementsByTagName("HEAD").item(0).appendChild(t)}}(),i.style.height="100%"}else i.style.userSelect="none";return t("scrollPanel",i,["native"==e.mode?function(t,e){var i={props:{ops:e.mergedOptions.scrollContent}};return t("scrollContent",i,[[e.$slots.default]])}(t,e):[e.$slots.default]])}function P(t,e,i){var o="vertical"===i?"vRail":"hRail",s="vertical"===i?"vBar":"hBar",n={props:{type:i,ops:e.mergedOptions[o],state:e[o].state}};return e[s].state.size?t("rail",n):null}function H(t,e,i){var o="vertical"===i?"vBar":"hBar",s={props:{type:i,ops:e.mergedOptions[o],state:e[o].state},on:{setMousedown:e.setMousedown},ref:i+"Bar"};return e[o].state.size?t("bar",s):null}var Y={name:"vueScroll",mixins:[u,f],data:function(){return{vuescroll:{state:{scrollTop:0,scrollLeft:0}},scrollPanel:{el:"",state:{left:0,top:0,zoom:1}},scrollContent:{},vRail:{state:{}},hRail:{state:{}},vBar:{state:{posValue:0,size:0,opacity:0}},hBar:{state:{posValue:0,size:0,opacity:0}},listeners:[],mousedown:!1,pointerLeave:!0,timeoutId:0,updateType:"",isInitScroller:!1,mergedOptions:{vuescroll:{},scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}},render:function(t){var e=this,i={style:{position:"relative",height:"100%",width:"100%",padding:0},class:"vue-scroll",on:{mouseenter:function(){e.pointerLeave=!1,e.showBar(),e.update()},mouseleave:function(){e.pointerLeave=!0,e.hideBar()},mousemove:function(){e.pointerLeave=!1,e.showBar(),e.update()}}};return"native"==this.mode?(i.style.overflowY=e.vBar.state.size?"hidden":"inherit",i.style.overflowX=e.hBar.state.size?"hidden":"inherit"):i.style.overflow="hidden",t("div",i,[k(t,e),P(t,e,"vertical"),H(t,e,"vertical"),P(t,e,"horizontal"),H(t,e,"horizontal")])},computed:{scrollPanelElm:function(){return this.$refs.scrollPanel.$el},mode:function(){return this.mergedOptions.vuescroll.mode}},methods:{updateScroller:function(){if(!this.isInitScroller){if(this.isInitScroller=!0,this.scroller)return;this.scroller=new A(function(t,e){var i,o=document.documentElement.style;e.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?i="presto":"MozAppearance"in o?i="gecko":"WebkitAppearance"in o?i="webkit":"string"==typeof navigator.cpuClass&&(i="trident");var s={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[i],n=document.createElement("div"),l=s+"Perspective",r=s+"Transform";return void 0!==n.style[l]?function(e,i,o){t.style[r]="translate3d("+-e+"px,"+-i+"px,0) scale("+o+")"}:void 0!==n.style[r]?function(e,i,o){t.style[r]="translate("+-e+"px,"+-i+"px) scale("+o+")"}:function(e,i,o){t.style.marginLeft=e?-e/o+"px":"",t.style.marginTop=i?-i/o+"px":"",t.style.zoom=o||""}}(this.scrollPanelElm,window),{zooming:!0});var t=this.$el.getBoundingClientRect();this.scroller.setPosition(t.left+this.$el.clientLeft,t.top+this.$el.clientTop),function(t,e){if(!t.isListened)if(t.isListened=!0,"ontouchstart"in window)t.addEventListener("touchstart",function(t){t.touches[0]&&t.touches[0].target&&t.touches[0].target.tagName.match(/input|textarea|select/i)||(e.doTouchStart(t.touches,t.timeStamp),t.preventDefault())},!1),document.addEventListener("touchmove",function(t){e.doTouchMove(t.touches,t.timeStamp,t.scale)},!1),document.addEventListener("touchend",function(t){e.doTouchEnd(t.timeStamp)},!1),document.addEventListener("touchcancel",function(t){e.doTouchEnd(t.timeStamp)},!1);else{var i=!1;t.addEventListener("mousedown",function(t){t.target.tagName.match(/input|textarea|select/i)||(console.log("start"),e.doTouchStart([{pageX:t.pageX,pageY:t.pageY}],t.timeStamp),i=!0)},!1),document.addEventListener("mousemove",function(t){i&&(console.log("mousemove"),e.doTouchMove([{pageX:t.pageX,pageY:t.pageY}],t.timeStamp),i=!0)},!1),document.addEventListener("mouseup",function(t){i&&(e.doTouchEnd(t.timeStamp),i=!1)},!1)}}(this.$el,this.scroller)}var e=this.$el.clientWidth,i=this.$el.clientHeight,o=this.$el.scrollWidth,s=this.$el.scrollHeight;this.scroller.setDimensions(e,i,o,s)},handleScroll:function(t){this.update("handle-scroll",t),this.showAndDefferedHideBar()},showAndDefferedHideBar:function(){var t=this;this.showBar(),this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){t.timeoutId=0,t.hideBar()},500)},emitEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.scrollPanelElm,o={type:"vertical"},s={type:"horizontal"};o.process=i.scrollTop/(i.scrollHeight-i.clientHeight),s.process=i.scrollLeft/(i.scrollWidth-i.clientWidth),o.barSize=this.vBar.state.size,s.barSize=this.hBar.state.size,this.$emit(t,o,s,e)},update:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=void 0,o=void 0,s=this.scrollPanelElm,n=this.$el;s&&("native"==this.mode?(i=100*s.clientHeight/s.scrollHeight,o=100*s.clientWidth/s.scrollWidth,this.vBar.state.posValue=100*s.scrollTop/s.clientHeight,this.hBar.state.posValue=100*s.scrollLeft/s.clientWidth):(i=100*n.clientHeight/s.clientHeight,o=100*n.clientWidth/s.clientWidth,this.vBar.state.posValue=100*this.vuescroll.state.scrollTop/n.clientHeight,this.hBar.state.posValue=100*this.vuescroll.state.scrollLeft/n.clientWidth),this.vBar.state.size=i<100?i+"%":0,this.hBar.state.size=o<100?o+"%":0,t&&this.emitEvent(t,e),"native"!==this.mode&&this.updateScroller())},showBar:function(){this.vBar.state.opacity=this.mergedOptions.vBar.opacity,this.hBar.state.opacity=this.mergedOptions.hBar.opacity},hideBar:function(){this.mergedOptions.vBar.keepShow||this.mousedown||!this.pointerLeave||(this.vBar.state.opacity=0),this.mergedOptions.hBar.keepShow||this.mousedown||!this.pointerLeave||(this.hBar.state.opacity=0)},setMousedown:function(t){this.mousedown=t}},mounted:function(){var t=this;this.$nextTick(function(){if(!t._isDestroyed){t.update(),t.showBar(),t.hideBar(),window.addEventListener("resize",function(){t.update(),t.showBar(),t.hideBar()},!1);var e=[function(e){t.updateType="resize",t.update("handle-resize",e),t.showAndDefferedHideBar()}];!function(t,e){if(!t.isResized){window.getComputedStyle(t);var i=document.createElement("object");t.isResized=!0,i.style.cssText="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",i.tabIndex=-1,i.type="text/html",i.onload=function(){e.forEach(function(t){c(i.contentDocument.defaultView,"resize",t)})},t.appendChild(i)}}("native"!==t.mode?t.scrollPanelElm:t.$refs.scrollContent._isVue?t.$refs.scrollContent.$el:t.$refs.scrollContent,e),"native"==t.mode?t.updateScroller():t.isInitScroller=!1}})},updated:function(){var t=this;this.$nextTick(function(){if(!t._isDestroyed){if("resize"==t.updateType)return void(t.updateType="");t.update(),t.showBar(),t.hideBar()}})},components:{bar:g,rail:S,scrollContent:b,scrollPanel:T},props:{ops:{default:function(){return{vuescroll:{},scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}}}},E={install:function(t){E.isInstalled?console.warn("You should not install the vuescroll again!"):(t.component(Y.name,Y),t.prototype.$vuescrollConfig=p,E.isInstalled=!0)}};return void 0!==t&&t.use(E),E});