/*
    * @name: vuescroll 4.0.0
    * @author: (c) 2018-2018 wangyi7099
    * @description: A reactive virtual scrollbar based on vue.js 2.X
    * @license: MIT
    * @GitHub: https://github.com/wangyi7099/vuescroll
    */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):e.vuescroll=t(e.Vue)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={vertical:{bar:{size:"height",opsSize:"width",posName:"top",page:"pageY",scroll:"scrollTop",scrollSize:"scrollHeight",offset:"offsetHeight",client:"clientY"},axis:"Y"},horizontal:{bar:{size:"width",opsSize:"height",posName:"left",page:"pageX",scroll:"scrollLeft",scrollSize:"scrollWidth",offset:"offsetWidth",client:"clientX"},axis:"X"}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){for(var s in t="object"===(void 0===t?"undefined":i(t))&&t||{},e)t[s]="object"===i(e[s])?o(e[s],t[s]={}):e[s];return t}function s(e,t){for(var l in t=t||{},e)"object"===i(e[l])?void 0===t[l]?(t[l]={},o(e[l],t[l])):s(e[l],t[l]):void 0===t[l]&&(t[l]=e[l]);return t}function l(e,t,i,o){var s=null;(i[t]||"function"==typeof i)&&(o=o||t,"function"==typeof i&&(s=i),Object.defineProperty(e,t,{get:s||function(){return i[o]},configurable:!0}))}var r=void 0;function n(){if(e.prototype.$isServer)return 0;if(void 0!==r)return r;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var i=t.offsetWidth;t.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",t.appendChild(o);var s=o.offsetWidth;return t.parentNode.removeChild(t),r=i-s,n.isUsed=!1,r}var a=!1,c=!1;function h(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,i,o)}function u(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,i,o)}function _(e,t){var i=null;return"easeInQuad"===e&&(i=t*t),"easeOutQuad"===e&&(i=t*(2-t)),"easeInOutQuad"===e&&(i=t<.5?2*t*t:(4-2*t)*t-1),"easeInCubic"===e&&(i=t*t*t),"easeOutCubic"===e&&(i=--t*t*t+1),"easeInOutCubic"===e&&(i=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(i=t*t*t*t),"easeOutQuart"===e&&(i=1- --t*t*t*t),"easeInOutQuart"===e&&(i=t<.5?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(i=t*t*t*t*t),"easeOutQuint"===e&&(i=1+--t*t*t*t*t),"easeInOutQuint"===e&&(i=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),i||t}var p=["slide","native"],f={vuescroll:{mode:"native",pullRefreshEnable:!1,pullRefreshTip:["Pull to Refresh","Refreshing...","Release to Refresh"]},scrollPanel:{initialScrollY:!1,initialScrollX:!1,speed:300,easing:void 0},scrollContent:{tag:"div",padding:!0,props:{},attrs:{}},vRail:{width:"5px",pos:"right",background:"#a5d6a7",opacity:0},hRail:{height:"5px",pos:"bottom",background:"#a5d6a7",opacity:0},vBar:{width:"5px",pos:"right",background:"#4caf50",deltaY:100,keepShow:!1,opacity:1,hover:!1},hBar:{height:"5px",pos:"bottom",background:"#4caf50",keepShow:!1,opacity:1,hover:!1}};var d={data:function(){return{shouldStopRender:!1}},created:function(){(function(){var e=this;if("vueScroll"===e.$options.name){var t=s(f,{});e.$options.propsData.ops=e.$options.propsData.ops||{},Object.keys(e.$options.propsData.ops).forEach(function(t){l(e.mergedOptions,t,e.$options.propsData.ops)}),s(t,e.mergedOptions),l(e.mergedOptions.vBar,"pos",e.mergedOptions.vRail),l(e.mergedOptions.vBar,"width",e.mergedOptions.vRail),l(e.mergedOptions.hBar,"pos",e.mergedOptions.hRail),l(e.mergedOptions.hBar,"height",e.mergedOptions.hRail),l(e.mergedOptions.scrollContent,"paddPos",function(){return"padding-"+e.mergedOptions.vRail.pos}),l(e.mergedOptions.scrollContent,"paddValue",function(){return e.mergedOptions.vRail.width})}}).call(this),this.shouldStopRender=function(e){var t=!1,i=e.vuescroll,o=e.scrollPanel;e.scrollContent,e.vRail,e.hRail,e.vBar,e.hBar,~p.indexOf(i.mode)||(console.error('[vuescroll]: The vuescroll\'s option "mode" should be one of the '+p),t=!0);var s=o.initialScrollY,l=o.initialScrollX;return s&&!String(s).match(/^\d+(\.\d+)?(%)?$/)&&console.error("[vuescroll]: The prop `initialScrollY` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),l&&!String(l).match(/^\d+(\.\d+)?(%)?$/)&&console.error("[vuescroll]: The prop `initialScrollX` should be a percent number like 10% or an exact number that greater than or equal to 0 like 100."),t}(this.mergedOptions)}};function m(e,t,i){var o=void 0;return(o=/(\d+)%$/.exec(e))?(o=o[1],o=i[t]*o/100):o=e,o}var v={methods:{scrollTo:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];void 0===e.x?e.x=this.$refs.scrollPanel.$el.scrollLeft:e.x=m(e.x,"scrollWidth",this.scrollPanelElm),void 0===e.y?e.y=this.$refs.scrollPanel.$el.scrollTop:e.y=m(e.y,"scrollHeight",this.scrollPanelElm);var i,o,s,l,r,n,a,c,h,u,p=e.x,f=e.y;"native"==this.mode?t?(i=this.$refs.scrollPanel.$el,o=p-this.$refs.scrollPanel.$el.scrollLeft,s=f-this.$refs.scrollPanel.$el.scrollTop,l=this.mergedOptions.scrollPanel.speed,r=this.mergedOptions.scrollPanel.easing,n=null,a=null,c=null,h=i.scrollTop,u=i.scrollLeft,h+s<0&&(s=-h),h+s>i.scrollHeight&&(s=i.scrollHeight-h),u+o<0&&(o=-u),u+o>i.scrollWidth&&(o=i.scrollWidth-u),requestAnimationFrame(function e(t){n||(n=t);var p=t-n,f=p/l>1?1:p/l;a=u+o*_(r,f),c=h+s*_(r,f),(Math.abs(c-h)<=Math.abs(s)||Math.abs(a-u)<=Math.abs(o))&&(i.scrollTop=Math.floor(c),i.scrollLeft=Math.floor(a),f<1&&requestAnimationFrame(e))})):this.$refs.scrollPanel.$el.scrollTo(p,f):"slide"==this.mode&&this.scroller.scrollTo(e.x,e.y,t)},forceUpdate:function(){var e=this;this.$forceUpdate(),Object.keys(this.$refs).forEach(function(t){var i=e.$refs[t];i._isVue&&i.$forceUpdate()})}}},g=Date.now||function(){return+new Date},S={},y=1,T={effect:{}},b=window;T.effect.Animate={requestAnimationFrame:function(){var e=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame,t=!!e;if(e&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(e.toString())&&(t=!1),t)return function(t,i){e(t,i)};var i={},o=1,s=null,l=+new Date;return function(e,t){var r=o++;return i[r]=e,null===s&&(s=setInterval(function(){var e=+new Date,t=i;for(var o in i={},t)t.hasOwnProperty(o)&&(t[o](e),l=e);e-l>2500&&(clearInterval(s),s=null)},1e3/60)),r}}(),stop:function(e){var t=null!=S[e];return t&&(S[e]=null),t},isRunning:function(e){return null!=S[e]},start:function(e,t,i,o,s,l){var r=g(),n=r,a=0,c=0,h=y++;if(l||(l=document.body),h%20==0){var u={};for(var _ in S)u[_]=!0;S=u}return S[h]=!0,T.effect.Animate.requestAnimationFrame(function u(_){var p=!0!==_,f=g();if(!S[h]||t&&!t(h))return S[h]=null,void(i&&i(60-c/((f-r)/1e3),h,!1));if(p)for(var d=Math.round((f-n)/(1e3/60))-1,m=0;m<Math.min(d,4);m++)u(!0),c++;o&&(a=(f-r)/o)>1&&(a=1);var v=s?s(a):a;!1!==e(v,f,p)&&1!==a||!p?p&&(n=f,T.effect.Animate.requestAnimationFrame(u,l)):(S[h]=null,i&&i(60-c/((f-r)/1e3),h,1===a||null==o))},l),h}};var x=function(){};function L(e){return function(t){return _(e,t)}}var w=null,D=null;function M(e,t){for(var i in this.__callback=e,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:x,animatingEasing:"easeOutCubic",noAnimatingEasing:"easeInOutCubic",penetrationDeceleration:.03,penetrationAcceleration:.08},t)this.options[i]=t[i];w=L(this.options.animatingEasing),D=L(this.options.noAnimatingEasing)}var z={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__disable:!1,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,t,i,o){e===+e&&(this.__clientWidth=e),t===+t&&(this.__clientHeight=t),i===+i&&(this.__contentWidth=i),o===+o&&(this.__contentHeight=o),this.__computeScrollMax(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0)},setPosition:function(e,t){this.__clientLeft=e||0,this.__clientTop=t||0},setSnapSize:function(e,t){this.__snapWidth=e,this.__snapHeight=t},activatePullToRefresh:function(e,t,i,o){this.__refreshHeight=e,this.__refreshActivate=t,this.__refreshDeactivate=i,this.__refreshStart=o},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(e,t,i,o,s){if(!this.options.zooming)throw new Error("Zooming is not enabled!");s&&(this.__zoomComplete=s),this.__isDecelerating&&(T.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1);var l=this.__zoomLevel;null==i&&(i=this.__clientWidth/2),null==o&&(o=this.__clientHeight/2),e=Math.max(Math.min(e,this.options.maxZoom),this.options.minZoom),this.__computeScrollMax(e);var r=(i+this.__scrollLeft)*e/l-i,n=(o+this.__scrollTop)*e/l-o;r>this.__maxScrollLeft?r=this.__maxScrollLeft:r<0&&(r=0),n>this.__maxScrollTop?n=this.__maxScrollTop:n<0&&(n=0),this.__publish(r,n,e,t)},zoomBy:function(e,t,i,o,s){this.zoomTo(this.__zoomLevel*e,t,i,o,s)},scrollTo:function(e,t,i,o){if(this.__isDecelerating&&(T.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1),null!=o&&o!==this.__zoomLevel){if(!this.options.zooming)throw new Error("Zooming is not enabled!");e*=o,t*=o,this.__computeScrollMax(o)}else o=this.__zoomLevel;this.options.scrollingX?this.options.paging?e=Math.round(e/this.__clientWidth)*this.__clientWidth:this.options.snapping&&(e=Math.round(e/this.__snapWidth)*this.__snapWidth):e=this.__scrollLeft,this.options.scrollingY?this.options.paging?t=Math.round(t/this.__clientHeight)*this.__clientHeight:this.options.snapping&&(t=Math.round(t/this.__snapHeight)*this.__snapHeight):t=this.__scrollTop,e=Math.max(Math.min(this.__maxScrollLeft,e),0),t=Math.max(Math.min(this.__maxScrollTop,t),0),e===this.__scrollLeft&&t===this.__scrollTop&&(i=!1),this.__isTracking||this.__publish(e,t,o,i)},scrollBy:function(e,t,i){var o=this.__isAnimating?this.__scheduledLeft:this.__scrollLeft,s=this.__isAnimating?this.__scheduledTop:this.__scrollTop;this.scrollTo(o+(e||0),s+(t||0),i)},doMouseZoom:function(e,t,i,o){var s=e>0?.97:1.03;return this.zoomTo(this.__zoomLevel*s,!1,i-this.__clientLeft,o-this.__clientTop)},doTouchStart:function(e,t){if(null==e.length)throw new Error("Invalid touch list: "+e);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var i,o;this.__interruptedAnimation=!0,this.__isDecelerating&&(T.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1,this.__interruptedAnimation=!0),this.__isAnimating&&(T.effect.Animate.stop(this.__isAnimating),this.__isAnimating=!1,this.__interruptedAnimation=!0);var s=1===e.length;s?(i=e[0].pageX,o=e[0].pageY):(i=Math.abs(e[0].pageX+e[1].pageX)/2,o=Math.abs(e[0].pageY+e[1].pageY)/2),this.__initialTouchLeft=i,this.__initialTouchTop=o,this.__zoomLevelStart=this.__zoomLevel,this.__lastTouchLeft=i,this.__lastTouchTop=o,this.__lastTouchMove=t,this.__lastScale=1,this.__enableScrollX=!s&&this.options.scrollingX,this.__enableScrollY=!s&&this.options.scrollingY,this.__isTracking=!0,this.__didDecelerationComplete=!1,this.__isDragging=!s,this.__isSingleTouch=s,this.__positions=[]},doTouchMove:function(e,t,i){if(null==e.length)throw new Error("Invalid touch list: "+e);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);if(this.__isTracking){var o,s;2===e.length?(o=Math.abs(e[0].pageX+e[1].pageX)/2,s=Math.abs(e[0].pageY+e[1].pageY)/2):(o=e[0].pageX,s=e[0].pageY);var l=this.__positions;if(this.__isDragging){var r=o-this.__lastTouchLeft,n=s-this.__lastTouchTop,a=this.__scrollLeft,c=this.__scrollTop,h=this.__zoomLevel;if(null!=i&&this.options.zooming){var u=h;if(h=h/this.__lastScale*i,u!==(h=Math.max(Math.min(h,this.options.maxZoom),this.options.minZoom))){var _=o-this.__clientLeft,p=s-this.__clientTop;a=(_+a)*h/u-_,c=(p+c)*h/u-p,this.__computeScrollMax(h)}}if(this.__enableScrollX){a-=r*this.options.speedMultiplier;var f=this.__maxScrollLeft;(a>f||a<0)&&(this.options.bouncing?a+=r/2*this.options.speedMultiplier:a=a>f?f:0)}if(this.__enableScrollY){c-=n*this.options.speedMultiplier;var d=this.__maxScrollTop;(c>d||c<0)&&(this.options.bouncing?(c+=n/2*this.options.speedMultiplier,this.__enableScrollX||null==this.__refreshHeight||(!this.__refreshActive&&c<=-this.__refreshHeight?(this.__refreshActive=!0,this.__refreshActivate&&this.__refreshActivate()):this.__refreshActive&&c>-this.__refreshHeight&&(this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate()))):c=c>d?d:0)}l.length>60&&l.splice(0,30),l.push(a,c,t),this.__publish(a,c,h)}else{var m=this.options.locking?3:0,v=Math.abs(o-this.__initialTouchLeft),g=Math.abs(s-this.__initialTouchTop);this.__enableScrollX=this.options.scrollingX&&v>=m,this.__enableScrollY=this.options.scrollingY&&g>=m,l.push(this.__scrollLeft,this.__scrollTop,t),this.__isDragging=(this.__enableScrollX||this.__enableScrollY)&&(v>=5||g>=5),this.__isDragging&&(this.__interruptedAnimation=!1)}this.__lastTouchLeft=o,this.__lastTouchTop=s,this.__lastTouchMove=t,this.__lastScale=i}},doTouchEnd:function(e){if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);if(this.__isTracking){if(this.__isTracking=!1,this.__isDragging)if(this.__isDragging=!1,this.__isSingleTouch&&this.options.animating&&e-this.__lastTouchMove<=100){for(var t=this.__positions,i=t.length-1,o=i,s=i;s>0&&t[s]>this.__lastTouchMove-100;s-=3)o=s;if(o!==i){var l=t[i]-t[o],r=this.__scrollLeft-t[o-2],n=this.__scrollTop-t[o-1];this.__decelerationVelocityX=r/l*(1e3/60),this.__decelerationVelocityY=n/l*(1e3/60);var a=this.options.paging||this.options.snapping?4:1;Math.abs(this.__decelerationVelocityX)>a||Math.abs(this.__decelerationVelocityY)>a?this.__refreshActive||this.__startDeceleration(e):this.options.scrollingComplete()}else this.options.scrollingComplete()}else e-this.__lastTouchMove>100&&this.options.scrollingComplete();this.__isDecelerating||(this.__refreshActive&&this.__refreshStart?(this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()):((this.__interruptedAnimation||this.__isDragging)&&this.options.scrollingComplete(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0,this.__zoomLevel),this.__refreshActive&&(this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate()))),this.__positions.length=0}},onScroll:x,stop:function(){this.__disable=!0},start:function(){self.__disable=!0},__publish:function(e,t,i,o){var s=this;if(!s.__disable){var l=s.__isAnimating;if(l&&(T.effect.Animate.stop(l),s.__isAnimating=!1),o&&s.options.animating){s.__scheduledLeft=e,s.__scheduledTop=t,s.__scheduledZoom=i;var r=s.__scrollLeft,n=s.__scrollTop,a=s.__zoomLevel,c=e-r,h=t-n,u=i-a;s.__isAnimating=T.effect.Animate.start(function(e,t,i){i&&(s.__scrollLeft=r+c*e,s.__scrollTop=n+h*e,s.__zoomLevel=a+u*e,s.__callback&&(s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel),s.onScroll()))},function(e){return s.__isAnimating===e},function(e,t,i){t===s.__isAnimating&&(s.__isAnimating=!1),(s.__didDecelerationComplete||i)&&s.options.scrollingComplete(),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null))},s.options.animationDuration,l?w:D)}else s.__scheduledLeft=s.__scrollLeft=e,s.__scheduledTop=s.__scrollTop=t,s.__scheduledZoom=s.__zoomLevel=i,s.__callback&&(s.__callback(e,t,i),s.onScroll()),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null))}},__computeScrollMax:function(e){null==e&&(e=this.__zoomLevel),this.__maxScrollLeft=Math.max(this.__contentWidth*e-this.__clientWidth,0),this.__maxScrollTop=Math.max(this.__contentHeight*e-this.__clientHeight,0)},__startDeceleration:function(e){var t=this;if(t.options.paging){var i=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0),o=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0),s=t.__clientWidth,l=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(i/s)*s,t.__minDecelerationScrollTop=Math.floor(o/l)*l,t.__maxDecelerationScrollLeft=Math.ceil(i/s)*s,t.__maxDecelerationScrollTop=Math.ceil(o/l)*l}else t.__minDecelerationScrollLeft=0,t.__minDecelerationScrollTop=0,t.__maxDecelerationScrollLeft=t.__maxScrollLeft,t.__maxDecelerationScrollTop=t.__maxScrollTop;var r=t.options.snapping?4:.001;t.__isDecelerating=T.effect.Animate.start(function(e,i,o){t.__stepThroughDeceleration(o)},function(){var e=Math.abs(t.__decelerationVelocityX)>=r||Math.abs(t.__decelerationVelocityY)>=r;return e||(t.__didDecelerationComplete=!0),e},function(e,i,o){t.__isDecelerating=!1,t.__didDecelerationComplete&&t.options.scrollingComplete(),t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)})},__stepThroughDeceleration:function(e){var t=this.__scrollLeft+this.__decelerationVelocityX,i=this.__scrollTop+this.__decelerationVelocityY;if(!this.options.bouncing){var o=Math.max(Math.min(this.__maxDecelerationScrollLeft,t),this.__minDecelerationScrollLeft);o!==t&&(t=o,this.__decelerationVelocityX=0);var s=Math.max(Math.min(this.__maxDecelerationScrollTop,i),this.__minDecelerationScrollTop);s!==i&&(i=s,this.__decelerationVelocityY=0)}if(e?this.__publish(t,i,this.__zoomLevel):(this.__scrollLeft=t,this.__scrollTop=i),!this.options.paging){this.__decelerationVelocityX*=.95,this.__decelerationVelocityY*=.95}if(this.options.bouncing){var l=0,r=0,n=this.options.penetrationDeceleration,a=this.options.penetrationAcceleration;t<this.__minDecelerationScrollLeft?l=this.__minDecelerationScrollLeft-t:t>this.__maxDecelerationScrollLeft&&(l=this.__maxDecelerationScrollLeft-t),i<this.__minDecelerationScrollTop?r=this.__minDecelerationScrollTop-i:i>this.__maxDecelerationScrollTop&&(r=this.__maxDecelerationScrollTop-i),0!==l&&(l*this.__decelerationVelocityX<=0?this.__decelerationVelocityX+=l*n:this.__decelerationVelocityX=l*a),0!==r&&(r*this.__decelerationVelocityY<=0?this.__decelerationVelocityY+=r*n:this.__decelerationVelocityY=r*a)}}};for(var $ in z)M.prototype[$]=z[$];var B=function(){this.$refs.refreshDom.elm||this.$refs.refreshDom;this.vuescroll.state.refreshStage=2},O=function(){this.vuescroll.state.refreshStage=0},E=function(){var e=this;e.vuescroll.state.refreshStage=1,setTimeout(function(){e.scroller.finishPullToRefresh()},2e3)},P={methods:{updateScroller:function(){var e=this.$el.clientWidth,t=this.$el.clientHeight,i=this.scrollPanelElm.scrollWidth,o=this.scrollPanelElm.scrollHeight,s=0;if(this.mergedOptions.vuescroll.pullRefreshEnable){var l=this.$refs.refreshDom.elm||this.$refs.refreshDom;s=l.scrollHeight,l.style.marginTop=-s+"px",o-=s,i=e}this.scroller.setDimensions(e,t,i,o)},registryScroller:function(){var e=this,t=!this.mergedOptions.vuescroll.pullRefreshEnable;this.scroller=new M(function(e,t){var i,o=document.documentElement.style;t.opera&&"[object Opera]"===Object.prototype.toString.call(opera)?i="presto":"MozAppearance"in o?i="gecko":"WebkitAppearance"in o?i="webkit":"string"==typeof navigator.cpuClass&&(i="trident");var s={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[i],l=document.createElement("div"),r=s+"Perspective",n=s+"Transform";return void 0!==l.style[r]?function(t,i,o){e.style[n]="translate3d("+-t+"px,"+-i+"px,0) scale("+o+")"}:void 0!==l.style[n]?function(t,i,o){e.style[n]="translate("+-t+"px,"+-i+"px) scale("+o+")"}:function(t,i,o){e.style.marginLeft=t?-t/o+"px":"",e.style.marginTop=i?-i/o+"px":"",e.style.zoom=o||""}}(this.scrollPanelElm,window),{zooming:t,animationDuration:this.mergedOptions.scrollPanel.speed});var i=this.$el.getBoundingClientRect();this.scroller.setPosition(i.left+this.$el.clientLeft,i.top+this.$el.clientTop);var o=function(e,t,i,o){var s=null;if("ontouchstart"in window){var l=function(e){e.touches[0]&&e.touches[0].target&&e.touches[0].target.tagName.match(/input|textarea|select/i)||(i("mousedown"),t.doTouchStart(e.touches,e.timeStamp),e.preventDefault())},r=function(e){i("mousemove"),t.doTouchMove(e.touches,e.timeStamp,e.scale)},n=function(e){i("mouseup"),t.doTouchEnd(e.timeStamp)},a=function(e){t.doTouchEnd(e.timeStamp)};e.addEventListener("touchstart",l,!1),document.addEventListener("touchmove",r,!1),document.addEventListener("touchend",n,!1),document.addEventListener("touchcancel",a,!1),s=function(){e.removeEventListener("touchstart",l,!1),document.removeEventListener("touchmove",r,!1),document.removeEventListener("touchend",n,!1),document.removeEventListener("touchcancel",a,!1)}}else{var c=function(e){e.target.tagName.match(/input|textarea|select/i)||(i("mousedown"),t.doTouchStart([{pageX:e.pageX,pageY:e.pageY}],e.timeStamp),p=!0)},h=function(e){p&&(i("mousemove"),t.doTouchMove([{pageX:e.pageX,pageY:e.pageY}],e.timeStamp),p=!0)},u=function(e){p&&(i("mouseup"),t.doTouchEnd(e.timeStamp),p=!1)},_=function(e){t.doMouseZoom(e.detail?-120*e.detail:e.wheelDelta,e.timeStamp,e.pageX,e.pageY)},p=!1;e.addEventListener("mousedown",c,!1),document.addEventListener("mousemove",h,!1),document.addEventListener("mouseup",u,!1),o&&e.addEventListener(navigator.userAgent.indexOf("Firefox")>-1?"DOMMouseScroll":"mousewheel",_,!1),s=function(){e.removeEventListener("mousedown",c,!1),document.removeEventListener("mousemove",h,!1),document.removeEventListener("mouseup",u,!1),e.removeEventListener(navigator.userAgent.indexOf("Firefox")>-1?"DOMMouseScroll":"mousewheel",_,!1)}}return t.onScroll=function(){i("onscroll")},s}(this.$el,this.scroller,function(t){switch(t){case"mousedown":e.vuescroll.state.isDragging=!0;break;case"onscroll":e.handleScroll(!1);break;case"mouseup":e.vuescroll.state.isDragging=!1}},t);if(this.mergedOptions.vuescroll.pullRefreshEnable){var s=this.$refs.refreshDom.elm||this.$refs.refreshDom;this.$listeners["refresh-activate"]&&(B=function(){e.vuescroll.state.refreshStage=0,e.$emit("refresh-activate",e,s)}),this.$listeners["refresh-deactivate"]&&(O=function(){e.vuescroll.state.refreshStage=2,e.$emit("refresh-deactivate",e,s)}),this.$listeners["refresh-start"]&&(E=function(){e.vuescroll.state.refreshStage=1,e.$emit("refresh-start",e,s,e.scroller.finishPullToRefresh.bind(e.scroller))});var l=s.scrollHeight;this.scroller.activatePullToRefresh(l,B.bind(this),O.bind(this),E.bind(this))}return this.updateScroller(),o},updateSlideModeBarState:function(){this.scrollPanelElm;var e,t,i=this.$el,o=this.scroller,s=0,l=0,r=i.clientWidth,n=i.clientHeight,a=r+this.scroller.__maxScrollLeft,c=n+this.scroller.__maxScrollTop,h=n<c;r<a&&(o.__scrollLeft<0?s=-o.__scrollLeft:o.__scrollLeft>o.__maxScrollLeft&&(s=o.__scrollLeft-o.__maxScrollLeft)),h&&(o.__scrollTop<0?l=-o.__scrollTop:o.__scrollTop>o.__maxScrollTop&&(l=o.__scrollTop-o.__maxScrollTop)),e=100*n/(c+l),t=100*r/(a+s);var u=Math.min(Math.max(0,o.__scrollTop),o.__maxScrollTop),_=Math.min(Math.max(0,o.__scrollLeft),o.__maxScrollLeft);this.vBar.state.posValue=100*(u+l)/i.clientHeight,this.hBar.state.posValue=100*(_+s)/i.clientWidth,o.__scrollLeft<0&&(this.hBar.state.posValue=0),o.__scrollTop<0&&(this.vBar.state.posValue=0),this.vBar.state.size=e<100?e+"%":0,this.hBar.state.size=t<100?t+"%":0}}},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e};function k(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function R(e,t){var i={ref:"scrollPanel",style:{position:"relative"},nativeOn:{scroll:t.handleScroll},props:{ops:t.mergedOptions.scrollPanel,state:t.scrollPanel.state}};if("native"==t.mode){i.style.overflowY=t.vBar.state.size?"scroll":"inherit",i.style.overflowX=t.hBar.state.size?"scroll":"inherit";var o=n();n.isUsed||(n.isUsed=!0),o?(i.style.marginRight="-"+o+"px",i.style.marginBottom="-"+o+"px",i.style.height="calc(100% + "+o+"px)"):(!function(){if(!a){a=!0;var e=document.createElement("style");e.type="text/css",e.innerHTML=".vuescroll-panel::-webkit-scrollbar{width:0;height:0}",document.getElementsByTagName("HEAD").item(0).appendChild(e)}}(),i.style.height="100%"),i.style.transformOrigin="",i.style.transform=""}else"slide"==t.mode&&(i.style.transformOrigin="left top 0px",i.style.userSelect="none");return e("scrollPanel",i,[function(){if("native"==t.mode)return[function(e,t){var i={props:{ops:t.mergedOptions.scrollContent}};return e("scrollContent",i,[[t.$slots.default]])}(e,t)];if("slide"==t.mode){var i=[t.$slots.default];if(t.$slots.refresh&&t.mergedOptions.vuescroll.refresh)t.$refs.refreshDom=t.$slots.refresh[0],i.unshift(t.$slots.refresh[0]);else if(t.mergedOptions.vuescroll.pullRefreshEnable){!function(){if(!c){c=!0;var e=document.createElement("style");e.type="text/css",e.innerHTML="\n    .vuescroll-refresh {\n        color: black;\n        height: 50px;\n        text-align: center;\n        font-size: 16px;\n        line-height: 50px;\n    }\n    .vuescroll-refresh svg {\n        margin-right: 10px;\n        width: 25px;\n        height: 25px;\n        vertical-align: sub;\n    }\n    .vuescroll-refresh svg path,\n    .vuescroll-refresh svg rect{\n    fill: #FF6700;\n    }\n    ",document.getElementsByTagName("HEAD").item(0).appendChild(e)}}();var o=null;0==t.vuescroll.state.refreshStage?o=e("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000","enable-background":"new 0 0 1000 1000",xmlSpace:"preserve"}},[e("metadata",[" Svg Vector Icons : http://www.sfont.cn "]),e("g",[e("g",{attrs:{transform:"matrix(1 0 0 -1 0 1008)"}},[e("path",{attrs:{d:"M500,18L10,473l105,105l315-297.5V998h140V280.5L885,578l105-105L500,18z"}})])])]):1==t.vuescroll.state.refreshStage?o=e("svg",{attrs:{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 50 50",xmlSpace:"preserve"},style:"enable-background:new 0 0 50 50;"},[e("path",{attrs:{fill:"#000",d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"}},[e("animateTransform",{attrs:{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"}})])]):2==t.vuescroll.state.refreshStage&&(o=e("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000","enable-background":"new 0 0 1000 1000",xmlSpace:"preserve"}},[e("metadata",[" Svg Vector Icons : http://www.sfont.cn "]),e("g",[e("g",{attrs:{transform:"matrix(1 0 0 -1 0 1008)"}},[e("path",{attrs:{d:"M10,543l490,455l490-455L885,438L570,735.5V18H430v717.5L115,438L10,543z"}})])])])),i.unshift(e("div",{class:"vuescroll-refresh",ref:"refreshDom",key:"refshDom"},[[o,t.pullRefreshTip]]))}return i}}()])}function H(e,t,i){var o="vertical"===i?"vRail":"hRail",s="vertical"===i?"vBar":"hBar",l={props:{type:i,ops:t.mergedOptions[o],state:t[o].state}};return t[s].state.size?e("rail",l):null}function V(e,t,i){var o="vertical"===i?"vBar":"hBar",s={props:{type:i,ops:t.mergedOptions[o],state:t[o].state},on:{setMousedown:t.setMousedown},ref:i+"Bar"};return t[o].state.size?e("bar",s):null}var X={name:"vueScroll",mixins:[d,v,{methods:{updateNativeModeBarState:function(){var e=this.scrollPanelElm,t=(this.$el,100*e.clientHeight/e.scrollHeight),i=100*e.clientWidth/e.scrollWidth;this.vBar.state.posValue=100*e.scrollTop/e.clientHeight,this.hBar.state.posValue=100*e.scrollLeft/e.clientWidth,this.vBar.state.size=t<100?t+"%":0,this.hBar.state.size=i<100?i+"%":0}}},P],data:function(){return{vuescroll:{state:{isDragging:!1,listeners:[],mousedown:!1,pointerLeave:!0,timeoutId:0,updateType:"",internalScrollTop:0,internalScrollLeft:0,refreshStage:0}},scrollPanel:{el:"",state:{left:0,top:0,zoom:1}},scrollContent:{},vRail:{state:{}},hRail:{state:{}},vBar:{state:{posValue:0,size:0,opacity:0}},hBar:{state:{posValue:0,size:0,opacity:0}},mergedOptions:{vuescroll:{},scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}},render:function(e){var t=this;return t.shouldStopRender?e("div",[[t.$slots.default]]):e("div",{style:{position:"relative",height:"100%",width:"100%",padding:0,overflow:"hidden"},class:"vue-scroll",on:{mouseenter:function(){t.vuescroll.state.pointerLeave=!1,t.showBar(),t.update()},mouseleave:function(){t.vuescroll.state.pointerLeave=!0,t.hideBar()},mousemove:function(){t.vuescroll.state.pointerLeave=!1,t.showBar(),t.update()}}},[R(e,t),H(e,t,"vertical"),V(e,t,"vertical"),H(e,t,"horizontal"),V(e,t,"horizontal")])},computed:{scrollPanelElm:function(){return this.$refs.scrollPanel.$el},mode:function(){return this.mergedOptions.vuescroll.mode},pullRefreshTip:function(){return this.mergedOptions.vuescroll.pullRefreshTip[this.vuescroll.state.refreshStage]}},methods:{update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"native"==this.mode?this.updateNativeModeBarState():"slide"==this.mode&&this.updateSlideModeBarState(),e&&this.emitEvent(e,t)},updateMode:function(){var e=this.vuescroll.state.internalScrollLeft,t=this.vuescroll.state.internalScrollTop;this.destroyScroller&&(this.scroller.stop(),this.destroyScroller(),this.destroyScroller=null),"slide"==this.mode?this.destroyScroller=this.registryScroller():"native"==this.mode&&(this.scrollPanelElm.style.transform="",this.scrollPanelElm.style.transformOrigin=""),this.scrollTo({x:e,y:t},!1)},handleScroll:function(e){this.recordCurrentPos(),this.update("handle-scroll",e),this.showAndDefferedHideBar()},showAndDefferedHideBar:function(){var e=this;this.showBar(),this.vuescroll.state.timeoutId&&clearTimeout(this.vuescroll.state.timeoutId),this.vuescroll.state.timeoutId=setTimeout(function(){e.vuescroll.state.timeoutId=0,e.hideBar()},500)},emitEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.scrollPanelElm,o={type:"vertical"},s={type:"horizontal"},l=i.scrollTop,r=i.scrollLeft;"slide"==this.mode&&(l=this.scroller.__scrollTop,r=this.scroller.__scrollLeft),o.process=l/(i.scrollHeight-i.clientHeight),s.process=r/(i.scrollWidth-i.clientWidth),o.barSize=this.vBar.state.size,s.barSize=this.hBar.state.size,this.$emit(e,o,s,t)},showBar:function(){this.vBar.state.opacity=this.mergedOptions.vBar.opacity,this.hBar.state.opacity=this.mergedOptions.hBar.opacity},hideBar:function(){this.vuescroll.state.isDragging||(this.mergedOptions.vBar.keepShow||this.vuescroll.state.mousedown||!this.vuescroll.state.pointerLeave||(this.vBar.state.opacity=0),this.mergedOptions.hBar.keepShow||this.vuescroll.state.mousedown||!this.vuescroll.state.pointerLeave||(this.hBar.state.opacity=0))},setMousedown:function(e){this.vuescroll.state.mousedown=e},registryResize:function(){var e=this;this.destroyResize&&this.destroyResize();var t=null;"slide"==this.mode?t=this.scrollPanelElm:"native"==this.mode&&(t=this.$refs.scrollContent._isVue?this.$refs.scrollContent.$el:this.$refs.scrollContent),window.addEventListener("resize",function(){e.update(),e.showBar(),e.hideBar(),"slide"==e.mode&&e.updateScroller()},!1);var i=[function(t){e.vuescroll.state.updateType="resize","slide"==e.mode&&e.updateScroller(),e.update("handle-resize",t),e.showAndDefferedHideBar()}];this.destroyResize=function(e,t){window.getComputedStyle(e);var i=document.createElement("object");return i.style.cssText="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",i.tabIndex=-1,i.type="text/html",i.onload=function(){t.forEach(function(e){h(i.contentDocument.defaultView,"resize",e)})},e.appendChild(i),function(){i.contentDocument&&t.forEach(function(e){u(i.contentDocument.defaultView,"resize",e)}),e.removeChild(i)}}(t,i)},recordCurrentPos:function(e){"native"==this.mode?(this.vuescroll.state.internalScrollLeft=e?this.scroller.__scrollLeft:this.scrollPanelElm.scrollLeft,this.vuescroll.state.internalScrollTop=e?this.scroller.__scrollTop:this.scrollPanelElm.scrollTop):"slide"==this.mode&&(this.vuescroll.state.internalScrollLeft=e?this.scrollPanelElm.scrollLeft:this.scroller.__scrollLeft,this.vuescroll.state.internalScrollTop=e?this.scrollPanelElm.scrollTop:this.scroller.__scrollTop)}},mounted:function(){var e=this;this._isDestroyed||this.shouldStopRender||("slide"==this.mode&&(this.destroyScroller=this.registryScroller()),this.registryResize(),this.$watch("mergedOptions",function(){e.recordCurrentPos(),e.$nextTick(function(){e.registryResize(),e.updateMode()})},{deep:!0,sync:!0}),this.$watch("mergedOptions.vuescroll.mode",function(t,i){e.recordCurrentPos(!0)},{sync:!0}),this.update(),this.showBar(),this.hideBar())},updated:function(){var e=this;this.$nextTick(function(){if(!e._isDestroyed){if("resize"==e.vuescroll.state.updateType)return void(e.vuescroll.state.updateType="");e.update(),e.showBar(),e.hideBar()}})},components:{bar:{name:"bar",computed:{bar:function(){return t[this.type].bar},axis:function(){return t[this.type].axis},parent:function(){return this.$parent.$refs}},render:function(e){var i,o,s,l=this,r={style:A((k(i={},this.bar.posName,0),k(i,this.ops.pos,0),k(i,this.bar.size,this.state.size),k(i,this.bar.opsSize,this.ops[this.bar.opsSize]),k(i,"background",this.ops.background),k(i,"opacity",this.state.opacity),k(i,"cursor","pointer"),k(i,"position","absolute"),k(i,"borderRadius","4px"),k(i,"transition","opacity .5s"),k(i,"cursor","pointer"),k(i,"userSelect","none"),i),(o=this.type,s=this.state.posValue,{transform:"translate"+t[o].axis+"("+s+"%)",msTransform:"translate"+t[o].axis+"("+s+"%)",webkitTransform:"translate"+t[o].axis+"("+s+"%)"})),class:"vuescroll-"+this.type+"-scrollbar",on:{mousedown:this.handleMousedown}};return this.ops.hover&&(r.on.mouseenter=function(){l.$el.style.background=l.ops.hover},r.on.mouseleave=function(){l.$el.style.background=l.ops.background}),e("div",r)},methods:{handleMousedown:function(e){e.stopPropagation(),this.axisStartPos=e[this.bar.client]-this.$el.getBoundingClientRect()[this.bar.posName],this.$emit("setMousedown",!0),h(document,"mousemove",this.handleMouseMove),h(document,"mouseup",this.handleMouseUp)},handleMouseMove:function(e){if(this.axisStartPos){var t=(e[this.bar.client]-this.parent[this.type+"Rail"].getBoundingClientRect()[this.bar.posName]-this.axisStartPos)/this.parent[this.type+"Rail"][this.bar.offset];this.$parent.scrollTo(k({},this.axis.toLowerCase(),this.parent.scrollPanel.$el[this.bar.scrollSize]*t),!1)}},handleMouseUp:function(){this.$emit("setMousedown",!1),this.$parent.hideBar(),this.axisStartPos=0,u(document,"mousemove",this.handleMouseMove),u(document,"mouseup",this.handleMouseUp)}},props:{ops:{type:Object,required:!0},state:{type:Object,required:!0},type:{type:String,required:!0}}},rail:{name:"rail",functional:!0,render:function(e,i){var o,s=i.parent,l=i.props,r=t[l.type].bar,n=s.$refs;return e("div",{style:(C(o={},r.posName,0),C(o,l.ops.pos,0),C(o,r.size,"100%"),C(o,r.opsSize,l.ops[r.opsSize]),C(o,"background",l.ops.background),C(o,"opacity",l.ops.opacity),C(o,"position","absolute"),C(o,"cursor","pointer"),C(o,"borderRadius","4px"),o),class:"vuescroll-"+l.type+"-rail",ref:l.type+"Rail",on:{click:function(e){!function(e,i,o,s,l){var r=i.page,n=o[s+"Bar"].$el[i.offset],a=(e[r]-e.target.getBoundingClientRect()[i.posName]-n/2)/e.target[i.offset],c=o.scrollPanel.$el[i.scrollSize]*a;l.scrollTo(C({},t[s].axis.toLowerCase(),c))}(e,r,n,l.type,s)}}})}},scrollContent:{name:"scrollContent",functional:!0,render:function(e,t){var i=t.props,o=t.slots,l=s(i.state.style,{});return l.position="relative",l.minHeight="100%",i.ops.padding&&(l[i.ops.paddPos]=i.ops.paddValue),e(i.ops.tag,{style:l,ref:"scrollContent",class:"vuescroll-content",props:i.ops.props,attrs:i.ops.attrs},o().default)},props:{ops:{default:function(){return{}}},state:{default:function(){return{}}}}},scrollPanel:{name:"scrollPanel",methods:{updateInitialScroll:function(){var e=0,t=0;this.ops.initialScrollX&&(e=this.ops.initialScrollX),this.ops.initialScrollY&&(t=this.ops.initialScrollY),this.$parent.scrollTo({x:e,y:t})}},mounted:function(){var e=this;this.$nextTick(function(){e._isDestroyed||e.updateInitialScroll()})},render:function(e){return e("div",{class:["vuescroll-panel"]},[[this.$slots.default]])},props:{ops:{},state:{}}}},props:{ops:{default:function(){return{vuescroll:{},scrollPanel:{},scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}}}},Y={install:function(e){Y.isInstalled?console.warn("You should not install the vuescroll again!"):(e.component(X.name,X),e.prototype.$vuescrollConfig=f,Y.isInstalled=!0)}};return void 0!==e&&e.use(Y),Y});