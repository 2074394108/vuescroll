/*
    * @name: vuescroll 3.3.16
    * @author: (c) 2018-2018 wangyi7099
    * @description: A virtual scrollbar based on vue.js 2.x inspired by slimscroll
    * @license: MIT
    * @GitHub: https://github.com/wangyi7099/vuescroll
    */
import"vue";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function deepCopy(e,t){for(var o in t="object"===(void 0===t?"undefined":_typeof(t))&&t||{},e)t[o]="object"===_typeof(e[o])?deepCopy(e[o],t[o]={}):e[o];return t}function deepMerge(e,t){for(var o in t=t||{},e)"object"===_typeof(e[o])?t[o]?deepMerge(e[o],t[o]):(t[o]={},deepCopy(e[o],t[o])):t[o]||(t[o]=e[o]);return t}function defineReactive(e,t,o,i){i=i||t,Object.defineProperty(e,t,{get:function(){return o[i]}})}var GCF={scrollContent:{tag:"div",padding:!0,height:"100%",props:{},attrs:{}},vRail:{width:"5px",pos:"left",background:"#a5d6a7",opacity:0},vBar:{width:"5px",pos:"left",background:"#4caf50",deltaY:100,keepShow:!1,opacity:1},hRail:{height:"5px",pos:"bottom",background:"#a5d6a7",opacity:0},hBar:{height:"5px",pos:"bottom",background:"#4caf50",keepShow:!1,opacity:1},vuescroll:{style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"},class:["vueScroll"]}};function hackPropsData(){var e=this;if("vueScroll"===e.$options.name){var t=deepMerge(GCF,{});e.$options.propsData.ops=e.$options.propsData.ops||{},Object.keys(e.$options.propsData.ops).forEach(function(t){defineReactive(e.mergedOptions,t,e.$options.propsData.ops)}),deepMerge(t,e.mergedOptions),defineReactive(e.mergedOptions.vBar,"pos",e.mergedOptions.vRail),defineReactive(e.mergedOptions.vBar,"width",e.mergedOptions.vRail),defineReactive(e.mergedOptions.hBar,"pos",e.mergedOptions.hRail),defineReactive(e.mergedOptions.hBar,"height",e.mergedOptions.hRail);e.mergedOptions.scrollContent.padding&&(Object.defineProperty(e.mergedOptions.scrollContent,"paddPos",{get:function(){return"padding-"+e.mergedOptions.vRail.pos}}),Object.defineProperty(e.mergedOptions.scrollContent,"paddValue",{get:function(){return e.mergedOptions.vRail.width}}))}}var LifeCycleMix={created:function(){hackPropsData.call(this)}},vuescroll={name:"vueScroll",mixins:[LifeCycleMix],data:function(){return{scrollPanel:{el:""},scrollContent:{},vRail:{state:{}},hRail:{state:{}},vBar:{state:{posValue:0,size:0,opacity:0}},hBar:{state:{posValue:0,size:0,opacity:0}},listeners:[],mousedown:!1,mergedOptions:{scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}},render:function(e){var t={style:gfc.vuescroll.style,class:gfc.vuescroll.class,on:{mouseenter:function(){this.showBar()},mouseleave:function(){this.hideBar()}}},o={ref:"scrollPanel",on:{scroll:this.handleScroll}},i={props:{ops:this.mergedOptions.scrollContent},ref:"scrollContent"},s={props:{type:"vertical",ops:this.mergedOptions.vBar,state:this.vBar.state},directives:{name:"bind",modifiers:{sync:!0},arg:"mousedown",value:this.mousedown}},r={props:{type:"vertical",ops:this.mergedOptions.vRail,state:this.vRail.state}},a={props:{type:"horizontal",ops:this.mergedOptions.hBar,state:this.hBar.state},directives:{name:"bind",modifiers:{sync:!0},arg:"mousedown",value:this.mousedown}},n={props:{type:"horizontal",ops:this.mergedOptions.hRail,state:this.hRail.state}};return e("div",t,[e("scrollPanel",o,[e("scrollContent",i,[[this.$slots.default]])]),e("bar",s),e("rail",r),e("bar",a),e("rail",n)])},computed:{scrollPanelRef:function(){return this.$refs.scrollPanel.$el}},methods:{handleScroll:function(){this.showBar()},update:function(){var e,t,o=this.scrollPanelRef;o&&(e=100*o.clientHeight/(o.scrollHeight-this.accuracy),t=100*o.clientWidth/(o.scrollWidth-this.accuracy),this.vBar.state.size=e<100?e+"%":"",this.hBar.state.size=t<100?t+"%":"",this.vBar.state.posValue=100*o.scrollTop/o.clientHeight,this.hBar.state.posValue=100*o.scrollLeft/o.clientWidth)},showBar:function(){this.update(),this.vBar.state.opacity=this.mergedOptions.vBar.opacity,this.hBar.state.opacity=this.mergedOptions.hBar.opacity},hideBar:function(){this.mergedOptions.vBar.keepShow||this.mousedown||(this.vBar.state.opacity=0),this.mergedOptions.hBar.keepShow||this.mousedown||(this.hBar.state.opacity=0)}},mounted:function(){var e=this;this.$nextTick(function(){e.showBar(),e.hideBar()})},updated:function(){var e=this;this.$nextTick(function(){e.showBar(),e.hideBar()})},components:{bar:bar,rail:rail,scrollContent:scrollContent,scrollPanel:scrollPanel},props:{ops:{default:function(){return{scrollContent:{},vRail:{},vBar:{},hRail:{},hBar:{}}}},accuracy:{default:0,validator:function(e){return!(e<0)||(console.error("[vuescroll]:The prop `accury` must be 0 or higher!"),!1)}}}},scroll={install:function(e){scroll.isInstalled?console.warn("You should not install the vuescroll again!"):(e.component(vuescroll.name,vuescroll),e.prototype.$vuescrollConfig=GCF,scroll.isInstalled=!0)}};export default scroll;